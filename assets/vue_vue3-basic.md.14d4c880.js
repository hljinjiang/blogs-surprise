import{_ as s,c as n,o as a,a as l}from"./app.e7b1e48e.js";const d=JSON.parse('{"title":"Vue3","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用方式","slug":"使用方式","link":"#使用方式","children":[{"level":3,"title":"vue2","slug":"vue2","link":"#vue2","children":[]},{"level":3,"title":"vue3","slug":"vue3-1","link":"#vue3-1","children":[]}]},{"level":2,"title":"生命周期","slug":"生命周期","link":"#生命周期","children":[]},{"level":2,"title":"watch","slug":"watch","link":"#watch","children":[{"level":3,"title":"vue2","slug":"vue2-1","link":"#vue2-1","children":[]},{"level":3,"title":"vue3","slug":"vue3-2","link":"#vue3-2","children":[]}]},{"level":2,"title":"computed","slug":"computed","link":"#computed","children":[{"level":3,"title":"vue2","slug":"vue2-2","link":"#vue2-2","children":[]},{"level":3,"title":"vue3","slug":"vue3-3","link":"#vue3-3","children":[]}]},{"level":2,"title":"props","slug":"props","link":"#props","children":[{"level":3,"title":"vue2","slug":"vue2-3","link":"#vue2-3","children":[]},{"level":3,"title":"vue3","slug":"vue3-4","link":"#vue3-4","children":[]}]},{"level":2,"title":"emit","slug":"emit","link":"#emit","children":[{"level":3,"title":"vue2","slug":"vue2-4","link":"#vue2-4","children":[]},{"level":3,"title":"vue3","slug":"vue3-5","link":"#vue3-5","children":[]}]},{"level":2,"title":"$attrs/$listeners","slug":"attrs-listeners","link":"#attrs-listeners","children":[{"level":3,"title":"vue2","slug":"vue2-5","link":"#vue2-5","children":[]},{"level":3,"title":"vue3","slug":"vue3-6","link":"#vue3-6","children":[]}]},{"level":2,"title":"provide/inject","slug":"provide-inject","link":"#provide-inject","children":[{"level":3,"title":"vue2","slug":"vue2-6","link":"#vue2-6","children":[]},{"level":3,"title":"vue3","slug":"vue3-7","link":"#vue3-7","children":[]}]},{"level":2,"title":"$parent/$children","slug":"parent-children","link":"#parent-children","children":[{"level":3,"title":"vue2","slug":"vue2-7","link":"#vue2-7","children":[]}]},{"level":2,"title":"expose&ref","slug":"expose-ref","link":"#expose-ref","children":[{"level":3,"title":"vue2","slug":"vue2-8","link":"#vue2-8","children":[]},{"level":3,"title":"vue3","slug":"vue3-8","link":"#vue3-8","children":[]}]}],"relativePath":"vue/vue3-basic.md","lastUpdated":1676021741000}'),p={name:"vue/vue3-basic.md"},e=l(`<h1 id="vue3" tabindex="-1">Vue3 <a class="header-anchor" href="#vue3" aria-hidden="true">#</a></h1><h2 id="使用方式" tabindex="-1">使用方式 <a class="header-anchor" href="#使用方式" aria-hidden="true">#</a></h2><h3 id="vue2" tabindex="-1">vue2 <a class="header-anchor" href="#vue2" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#F44747;">@click=&quot;changeMsg&quot;&gt;{{msg}}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#F44747;">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#F44747;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6E22E;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">default</span><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">data</span><span style="color:#F8F8F2;">(){</span></span>
<span class="line"><span style="color:#F8F8F2;">    return {</span></span>
<span class="line"><span style="color:#F8F8F2;">      msg:</span><span style="color:#E6DB74;">&#39;hello world&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">}</span><span style="color:#F44747;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F44747;">methods:{</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F44747;">changeMsg(){</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F44747;">this.msg</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;hello juejin&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F44747;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F44747;">}</span></span>
<span class="line"><span style="color:#F44747;">}</span></span>
<span class="line"><span style="color:#F44747;">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="vue3-1" tabindex="-1">vue3 <a class="header-anchor" href="#vue3-1" aria-hidden="true">#</a></h3><ul><li>方式一</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#F44747;">@click=&quot;changeMsg&quot;&gt;{{msg}}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#F44747;">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F44747;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;"> ref,defineComponent </span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F44747;">;</span></span>
<span class="line"><span style="color:#A6E22E;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#F44747;">defineComponent({</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F44747;">setup()</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">    const msg </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    const </span><span style="color:#A6E22E;">changeMsg</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> ()</span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">      msg.value </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;hello&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">    return {</span></span>
<span class="line"><span style="color:#F8F8F2;">      msg,</span></span>
<span class="line"><span style="color:#F8F8F2;">      changeMsg</span></span>
<span class="line"><span style="color:#F8F8F2;">    };</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">}</span><span style="color:#F44747;">,</span></span>
<span class="line"><span style="color:#F44747;">});</span></span>
<span class="line"><span style="color:#F44747;">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>方式二</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#F44747;">@click=&quot;changeMsg&quot;&gt;{{</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">msg</span><span style="color:#F8F8F2;"> </span><span style="color:#F44747;">}}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#F44747;">&lt;/template&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F44747;">&lt;script</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">setup</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">import </span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;"> ref </span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;"> from &quot;vue&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">const msg = ref(&#39;hello world&#39;)</span></span>
<span class="line"><span style="color:#F8F8F2;">const changeMsg = () =&gt; </span><span style="color:#F92672;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  msg.value </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;hello&#39;</span></span>
<span class="line"><span style="color:#F92672;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="生命周期" tabindex="-1">生命周期 <a class="header-anchor" href="#生命周期" aria-hidden="true">#</a></h2><table><thead><tr><th>vue2</th><th>vue3</th><th>description</th></tr></thead><tbody><tr><td>beforeCreate</td><td>-</td><td>实例创建前调用</td></tr><tr><td>created</td><td>-</td><td>实例创建后调用</td></tr><tr><td>beforeMount</td><td>onBeforeMount</td><td>DOM挂载前调用</td></tr><tr><td>mounted</td><td>onMounted</td><td>DOM挂载完成调用</td></tr><tr><td>beforeUpdate</td><td>onBeforeUpdate</td><td>数据更新之前调用</td></tr><tr><td>updated</td><td>onUpdated</td><td>数据更新之后调用</td></tr><tr><td>beforeDestroy</td><td>onBeforeUnmount</td><td>组件销毁前调用</td></tr><tr><td>destroyed</td><td>onUnmounted</td><td>组件销毁完成调用</td></tr></tbody></table><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  onBeforeMount,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onMounted,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onBeforeUpdate,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onUpdated,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onBeforeUnmount,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onUnmounted,</span></span>
<span class="line"><span style="color:#F8F8F2;">} </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;0&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#A6E22E;">onBeforeMount</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;1&quot;</span><span style="color:#F8F8F2;">)})</span></span>
<span class="line"><span style="color:#A6E22E;">onMounted</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;2&quot;</span><span style="color:#F8F8F2;">)})</span></span>
<span class="line"><span style="color:#A6E22E;">onBeforeUpdate</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;3&quot;</span><span style="color:#F8F8F2;">)})</span></span>
<span class="line"><span style="color:#A6E22E;">onUpdated</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;4&quot;</span><span style="color:#F8F8F2;">)})</span></span>
<span class="line"><span style="color:#A6E22E;">onBeforeUnmount</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;5&quot;</span><span style="color:#F8F8F2;">)})</span></span>
<span class="line"><span style="color:#A6E22E;">onUnmounted</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;6&quot;</span><span style="color:#F8F8F2;">)})</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="watch" tabindex="-1">watch <a class="header-anchor" href="#watch" aria-hidden="true">#</a></h2><h3 id="vue2-1" tabindex="-1">vue2 <a class="header-anchor" href="#vue2-1" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">watch: {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">msg</span><span style="color:#F8F8F2;">(newValue, oldValue) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(oldValue, newValue)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  msg1: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">handler</span><span style="color:#F8F8F2;">(newValue, oldValue) {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(oldValue, newValue)</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">    deep: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    immediate: </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">},</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="vue3-2" tabindex="-1">vue3 <a class="header-anchor" href="#vue3-2" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  ref,</span></span>
<span class="line"><span style="color:#F8F8F2;">  watch,</span></span>
<span class="line"><span style="color:#F8F8F2;">  watchEffect</span></span>
<span class="line"><span style="color:#F8F8F2;">} </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> val1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#88846F;">// 方式1: 监听单个值</span></span>
<span class="line"><span style="color:#A6E22E;">watch</span><span style="color:#F8F8F2;">(val, (</span><span style="color:#FD971F;font-style:italic;">newValue</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">oldValue</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(oldValue, newValue)</span></span>
<span class="line"><span style="color:#F8F8F2;">},{ deep: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, immediate: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;"> })</span></span>
<span class="line"><span style="color:#88846F;">// 方式2: 监听多个值</span></span>
<span class="line"><span style="color:#A6E22E;">watch</span><span style="color:#F8F8F2;">([val, val1], (</span><span style="color:#FD971F;font-style:italic;">newValue</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">oldValue</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(oldValue, newValue)</span></span>
<span class="line"><span style="color:#F8F8F2;">},{ deep: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, immediate: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;"> })</span></span>
<span class="line"><span style="color:#88846F;">// 方式3: 监听值的源数据</span></span>
<span class="line"><span style="color:#A6E22E;">watch</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> val, (</span><span style="color:#FD971F;font-style:italic;">newValue</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">oldValue</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(oldValue, newValue)</span></span>
<span class="line"><span style="color:#F8F8F2;">},{ deep: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, immediate: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;"> })</span></span>
<span class="line"><span style="color:#88846F;">// 方式4: 追踪watchEffect中的依赖，其依赖变更时重新运行该函数</span></span>
<span class="line"><span style="color:#A6E22E;">watchEffect</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(val, val1)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="computed" tabindex="-1">computed <a class="header-anchor" href="#computed" aria-hidden="true">#</a></h2><h3 id="vue2-2" tabindex="-1">vue2 <a class="header-anchor" href="#vue2-2" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">computed: {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">val2</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">1</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">},</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="vue3-3" tabindex="-1">vue3 <a class="header-anchor" href="#vue3-3" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  ref,</span></span>
<span class="line"><span style="color:#F8F8F2;">  computed</span></span>
<span class="line"><span style="color:#F8F8F2;">} </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> val2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">computed</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> val.value </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="props" tabindex="-1">props <a class="header-anchor" href="#props" aria-hidden="true">#</a></h2><h3 id="vue2-3" tabindex="-1">vue2 <a class="header-anchor" href="#vue2-3" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">props:[</span><span style="color:#E6DB74;">&#39;msg&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">props: {</span></span>
<span class="line"><span style="color:#F8F8F2;">  show: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    type: Boolean,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">false</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  loadingText: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    type: String,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;加载中...&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">},</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="vue3-4" tabindex="-1">vue3 <a class="header-anchor" href="#vue3-4" aria-hidden="true">#</a></h3><ul><li>方式一</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { defineComponent } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  props: [</span><span style="color:#E6DB74;">&quot;msg&quot;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">  props: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    msg: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      type: String,</span></span>
<span class="line"><span style="color:#F8F8F2;">      default: </span><span style="color:#E6DB74;">&#39;加载中...&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">setup</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">props</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(props)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>方式二</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { defineProps } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> props </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">defineProps</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  msg: String,</span></span>
<span class="line"><span style="color:#F8F8F2;">  value: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    type: String,</span></span>
<span class="line"><span style="color:#F8F8F2;">    default: </span><span style="color:#E6DB74;">&quot;123&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="emit" tabindex="-1">emit <a class="header-anchor" href="#emit" aria-hidden="true">#</a></h2><h3 id="vue2-4" tabindex="-1">vue2 <a class="header-anchor" href="#vue2-4" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">$emit</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;sendMsg&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#E6DB74;">&#39;子组件数据&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="vue3-5" tabindex="-1">vue3 <a class="header-anchor" href="#vue3-5" aria-hidden="true">#</a></h3><ul><li>方式一</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { defineComponent } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  emits: [</span><span style="color:#E6DB74;">&#39;sendMsg&#39;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">setup</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">props</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">ctx</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">      ctx.</span><span style="color:#A6E22E;">emit</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;sendMsg&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;子组件数据&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>方式二</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { defineEmits } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> emits </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">defineEmits</span><span style="color:#F8F8F2;">([</span><span style="color:#E6DB74;">&#39;send&#39;</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">send</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> () </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">emits</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;sendMsg&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;子组件数据&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#A6E22E;">sendMsg</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="attrs-listeners" tabindex="-1">$attrs/$listeners <a class="header-anchor" href="#attrs-listeners" aria-hidden="true">#</a></h2><h3 id="vue2-5" tabindex="-1">vue2 <a class="header-anchor" href="#vue2-5" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// 返回所有绑定在组件上的属性（除props 申明的属性、class、style）</span></span>
<span class="line"><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.$attrs</span></span>
<span class="line"><span style="color:#88846F;">// 返回所有绑定在组件上的事件监听器</span></span>
<span class="line"><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.$listeners</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="vue3-6" tabindex="-1">vue3 <a class="header-anchor" href="#vue3-6" aria-hidden="true">#</a></h3><ul><li>方式一</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { defineComponent } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">setup</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">props</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">ctx</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(ctx.attrs)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>方式二</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { useAttrs } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#88846F;">// 返回返回所有绑定在组件上的属性和事件监听器（除props 申明的属性）</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> attrs </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">useAttrs</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="provide-inject" tabindex="-1">provide/inject <a class="header-anchor" href="#provide-inject" aria-hidden="true">#</a></h2><h3 id="vue2-6" tabindex="-1">vue2 <a class="header-anchor" href="#vue2-6" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// 父组件</span></span>
<span class="line"><span style="color:#A6E22E;">provide</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    msg1: </span><span style="color:#E6DB74;">&#39;msg111&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    msg2: </span><span style="color:#E6DB74;">&#39;msg222&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#88846F;">// 子组件</span></span>
<span class="line"><span style="color:#F8F8F2;">inject: [</span><span style="color:#E6DB74;">&#39;msg1&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#E6DB74;">&#39;msg2&#39;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="vue3-7" tabindex="-1">vue3 <a class="header-anchor" href="#vue3-7" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// 父组件</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { provide } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#A6E22E;">provide</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;msg1&quot;</span><span style="color:#F8F8F2;">,</span><span style="color:#E6DB74;">&#39;msg1111&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// 子组件</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { inject } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> msg </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">inject</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;msg1&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="parent-children" tabindex="-1">$parent/$children <a class="header-anchor" href="#parent-children" aria-hidden="true">#</a></h2><h3 id="vue2-7" tabindex="-1">vue2 <a class="header-anchor" href="#vue2-7" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// 获取父组件</span></span>
<span class="line"><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.$parent</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// 获取子组件，多个</span></span>
<span class="line"><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.$children</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="expose-ref" tabindex="-1">expose&amp;ref <a class="header-anchor" href="#expose-ref" aria-hidden="true">#</a></h2><div class="info custom-block"><p class="custom-block-title">expose只有在vue3中才能使用</p></div><h3 id="vue2-8" tabindex="-1">vue2 <a class="header-anchor" href="#vue2-8" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// 绑定ref</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#66D9EF;font-style:italic;">HelloWorld</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;hello-dom&quot;</span><span style="color:#F8F8F2;"> /&gt;</span></span>
<span class="line"><span style="color:#88846F;">// 获取子组件</span></span>
<span class="line"><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.$refs[</span><span style="color:#E6DB74;">&#39;hello-dom&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="vue3-8" tabindex="-1">vue3 <a class="header-anchor" href="#vue3-8" aria-hidden="true">#</a></h3><ul><li>方式一</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// 子组件 HelloWorld</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { defineComponent } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">setup</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">props</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">ctx</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">one</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> () </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;one&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">one1</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> () </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;one1&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// expose优先级更高，返回什么才能访问什么</span></span>
<span class="line"><span style="color:#F8F8F2;">    ctx.</span><span style="color:#A6E22E;">expose</span><span style="color:#F8F8F2;">({ one })</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 返回什么才能访问什么</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      one,</span></span>
<span class="line"><span style="color:#F8F8F2;">      one1,</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// 父组件</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#66D9EF;font-style:italic;">HelloWorld</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;child&quot;</span><span style="color:#F8F8F2;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { defineComponent, ref } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">setup</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">props</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">ctx</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 获取子组件属性</span></span>
<span class="line"><span style="color:#F8F8F2;">    child.value</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><ul><li>方式二</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// 子组件 HelloWorld</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { ref, defineExpose } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">send</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> () </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#88846F;">// 子组件必须暴露对应属性才能让父组件获取</span></span>
<span class="line"><span style="color:#A6E22E;">defineExpose</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  val,</span></span>
<span class="line"><span style="color:#F8F8F2;">  send</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// 父组件</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#66D9EF;font-style:italic;">HelloWorld</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;child&quot;</span><span style="color:#F8F8F2;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { ref } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#88846F;">// 获取子组件属性</span></span>
<span class="line"><span style="color:#F8F8F2;">child.value</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li>方式三</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;child&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { ref } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ref</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#88846F;">// 获取元素DOM</span></span>
<span class="line"><span style="color:#F8F8F2;">child.value</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参考链接：<a href="https://vuejs.org/guide/introduction.html" target="_blank" rel="noreferrer">https://vuejs.org/guide/introduction.html</a></p>`,66),o=[e];function r(c,t,F,i,y,u){return a(),n("div",null,o)}const m=s(p,[["render",r]]);export{d as __pageData,m as default};
