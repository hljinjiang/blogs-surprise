<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP Performance Optimization</title>
    <meta name="description" content="terali's Docs，terali的博客，surprise，前端，前端技术博客，囊括前端基础、进阶、日常记录、笔记">
    <link rel="preload stylesheet" href="/assets/style.764a2da9.css" as="style">
    <link rel="modulepreload" href="/assets/app.1a67c3a4.js">
    <link rel="modulepreload" href="/assets/build_http-performance.md.13e427e8.lean.js">
    
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/tera-li/static-cdn@0.0.4/img/my.jpg">
  <meta name="title" content="terali&#39;s Docs">
  <meta name="description" content="terali&#39;s Docs，terali的博客，surprise，前端，前端技术博客，囊括前端基础、进阶、日常记录、笔记">
  <meta name="keywords" content="terali,Docs,web,surprise,terali的博客,前端,前端技术博客,前端基础,前端进阶,前端笔记">
  <meta name="google-site-verification" content="WsLa9IEnN2TZzy4k0HF1GNYCghbHHtSDM80dokpEi3E">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-93a960b4><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-93a960b4 data-v-0fa0e57d><div class="VPNavBar has-sidebar" data-v-0fa0e57d data-v-be450ad9><div class="container" data-v-be450ad9><div class="title" data-v-be450ad9><div class="VPNavBarTitle has-sidebar" data-v-be450ad9 data-v-6d2fb2d9><a class="title" href="/" data-v-6d2fb2d9><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://cdn.jsdelivr.net/gh/tera-li/static-cdn@0.0.4/img/my.jpg" alt data-v-6db2186b><!--]--><!--[-->Web Front End<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-be450ad9><div class="curtain" data-v-be450ad9></div><div class="content-body" data-v-be450ad9><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-be450ad9 data-v-bdedfc22><span id="main-nav-aria-label" class="visually-hidden" data-v-bdedfc22>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/html/" data-v-bdedfc22 data-v-95f5d58b data-v-30c06bd3><!--[-->前端基础<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue/" data-v-bdedfc22 data-v-95f5d58b data-v-30c06bd3><!--[-->Vue<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/react/" data-v-bdedfc22 data-v-95f5d58b data-v-30c06bd3><!--[-->React<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/build/" data-v-bdedfc22 data-v-95f5d58b data-v-30c06bd3><!--[-->Build<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/algorithm/" data-v-bdedfc22 data-v-95f5d58b data-v-30c06bd3><!--[-->算法<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/network/" data-v-bdedfc22 data-v-95f5d58b data-v-30c06bd3><!--[-->网络<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/other/" data-v-bdedfc22 data-v-95f5d58b data-v-30c06bd3><!--[-->其它<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-be450ad9 data-v-da3f667a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-da3f667a data-v-0d529b6d data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d529b6d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d529b6d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-be450ad9 data-v-2ab2a029 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/tera-li" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://juejin.cn/user/3395724659925656/posts?sort=popular" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="764.000000pt" height="764.000000pt" viewBox="0 0 764.000000 764.000000" preserveAspectRatio="xMidYMid meet">
          <g transform="translate(0.000000,764.000000) scale(0.100000,-0.100000)" fill="#1171ee" stroke="none">
          <path d="M3710 6773 c-58 -46 -120 -96 -139 -111 -147 -117 -307 -247 -317 -256 -6 -6 -68 -55 -137 -110 -69 -54 -143 -113 -164 -132 -21 -19 -42 -34 -47 -34 -4 0 2 -11 15 -25 13 -13 29 -25 36 -25 6 0 13 -4 15 -9 2 -5 120 -102 263 -216 143 -114 278 -221 299 -238 56 -45 119 -96 131 -105 45 -33 113 -90 128 -104 21 -21 24 -22 41 -5 8 6 24 19 36 27 13 8 30 22 39 31 9 8 45 38 81 64 80 61 87 66 108 86 9 8 57 47 107 85 49 38 98 77 110 87 11 10 106 86 210 169 105 82 194 154 200 159 10 10 -22 43 -95 98 -19 14 -41 32 -48 39 -8 7 -30 25 -50 40 -21 15 -39 29 -42 33 -3 3 -122 99 -265 213 -143 113 -269 215 -280 224 -29 26 -108 88 -120 94 -5 3 -57 -32 -115 -79z"/>
          <path d="M1984 5387 c-55 -45 -117 -95 -138 -112 -22 -16 -44 -34 -50 -40 -6 -5 -34 -28 -61 -50 -28 -22 -55 -44 -62 -50 -7 -5 -18 -14 -25 -20 -50 -39 -116 -91 -130 -104 -34 -31 -46 -40 -51 -35 -2 3 -7 -2 -10 -10 -4 -9 6 -25 26 -41 18 -14 38 -30 46 -37 7 -6 34 -27 60 -46 25 -19 48 -39 49 -44 2 -4 10 -8 17 -8 7 0 15 -4 17 -8 2 -4 37 -34 78 -67 41 -32 77 -62 80 -65 3 -3 21 -17 40 -30 19 -13 37 -27 40 -30 5 -7 227 -182 290 -230 18 -14 38 -30 44 -35 6 -6 31 -26 56 -45 25 -19 47 -38 48 -42 2 -5 8 -8 14 -8 6 0 16 -6 22 -13 6 -8 52 -45 101 -83 50 -38 92 -71 95 -74 3 -3 37 -30 75 -60 39 -30 75 -59 82 -65 15 -12 27 -21 83 -65 25 -19 50 -39 56 -45 6 -5 46 -37 89 -70 120 -93 337 -265 365 -289 14 -12 41 -32 60 -46 19 -14 44 -32 55 -42 19 -15 98 -79 120 -96 75 -58 101 -78 105 -82 21 -22 140 -110 149 -110 8 0 376 284 476 368 11 9 40 32 65 51 25 19 50 39 57 45 7 6 25 21 40 33 133 103 279 218 283 223 3 3 23 19 45 35 22 16 47 35 55 42 8 7 67 53 130 103 63 50 129 101 145 115 17 13 134 105 260 205 127 100 242 191 257 203 15 12 39 31 54 42 15 11 44 34 65 51 21 17 97 78 171 135 73 57 135 106 138 109 3 3 33 28 68 55 l63 48 -31 29 c-17 15 -35 28 -40 28 -4 0 -10 4 -12 8 -1 4 -37 35 -78 67 -41 33 -77 62 -80 65 -3 3 -84 68 -180 144 -96 77 -177 142 -180 145 -32 36 -38 35 -127 -35 -49 -37 -90 -71 -93 -74 -3 -3 -45 -37 -95 -75 -97 -75 -287 -226 -320 -253 -11 -10 -36 -28 -55 -42 -19 -13 -42 -32 -51 -42 -9 -10 -19 -18 -23 -18 -3 0 -16 -9 -28 -19 -34 -29 -198 -159 -538 -426 -168 -132 -307 -242 -310 -245 -3 -3 -33 -28 -68 -54 l-63 -48 -57 43 c-31 24 -61 48 -67 53 -5 6 -28 24 -50 40 -22 17 -42 32 -45 36 -3 3 -21 17 -42 32 -20 15 -42 33 -50 40 -7 7 -40 33 -73 57 -33 25 -62 47 -65 51 -3 3 -25 21 -50 40 -25 19 -52 41 -60 47 -8 7 -82 66 -165 131 -82 64 -159 125 -170 134 -11 9 -58 46 -105 83 -106 82 -139 108 -167 132 -12 10 -36 29 -54 43 -44 34 -152 118 -164 128 -5 4 -64 50 -130 102 -66 52 -122 97 -125 100 -10 10 -89 70 -92 69 -2 0 -48 -37 -104 -82z"/>
          <path d="M6884 4222 c-60 -47 -186 -147 -280 -222 -94 -74 -186 -146 -204 -160 -78 -59 -185 -146 -188 -152 -2 -5 -8 -8 -12 -8 -5 0 -20 -10 -33 -22 -13 -13 -39 -34 -57 -48 -34 -25 -140 -109 -171 -135 -10 -7 -48 -37 -85 -66 -38 -29 -76 -60 -85 -68 -8 -9 -32 -27 -52 -41 -20 -14 -37 -28 -37 -32 0 -5 -6 -8 -14 -8 -8 0 -16 -3 -18 -8 -1 -4 -61 -54 -133 -110 -71 -57 -137 -108 -145 -115 -8 -7 -49 -38 -90 -70 -41 -32 -91 -71 -110 -87 -19 -16 -73 -59 -120 -95 -47 -36 -97 -77 -113 -90 -15 -14 -31 -25 -36 -25 -5 0 -11 -3 -13 -7 -2 -7 -59 -54 -133 -111 -64 -49 -183 -143 -195 -154 -9 -7 -67 -53 -130 -103 -63 -49 -116 -93 -118 -97 -2 -4 -8 -8 -13 -8 -5 0 -20 -9 -32 -21 -18 -17 -95 -78 -282 -224 -16 -13 -61 -48 -99 -78 l-68 -55 -82 65 c-114 92 -138 111 -256 203 -58 45 -107 85 -110 89 -3 3 -43 35 -90 71 -107 81 -98 74 -145 115 -22 19 -43 35 -47 35 -4 0 -13 6 -20 13 -7 7 -49 41 -93 76 -44 34 -93 73 -110 86 -16 14 -100 79 -185 146 -146 116 -303 239 -325 257 -5 4 -48 38 -95 75 -215 169 -557 441 -578 458 -12 10 -27 19 -32 19 -6 0 -10 3 -10 8 0 4 -33 32 -72 62 -40 30 -102 78 -138 108 -36 29 -168 134 -295 233 -126 99 -239 188 -250 197 -11 9 -63 50 -115 91 -52 41 -97 78 -98 83 -5 12 -42 9 -56 -4 -7 -7 -27 -24 -45 -38 -18 -14 -63 -50 -100 -80 -187 -153 -416 -335 -424 -339 -5 -2 -18 -12 -28 -22 -18 -18 -17 -20 41 -64 32 -25 65 -51 72 -58 7 -6 31 -25 53 -41 22 -17 42 -33 45 -36 3 -3 45 -37 95 -75 49 -39 97 -75 105 -82 42 -34 291 -231 316 -250 16 -12 40 -31 54 -42 14 -11 66 -52 115 -91 50 -39 99 -78 109 -87 11 -9 40 -32 65 -51 25 -19 67 -52 92 -73 26 -22 52 -39 58 -39 6 0 11 -4 11 -8 0 -4 21 -24 48 -44 26 -20 57 -45 69 -55 12 -10 34 -27 49 -38 15 -11 32 -24 38 -30 6 -5 29 -23 51 -39 22 -17 42 -33 45 -36 3 -3 46 -37 95 -75 50 -38 92 -72 95 -75 3 -3 23 -19 45 -35 22 -17 42 -32 45 -36 5 -5 178 -142 240 -189 18 -14 40 -32 50 -40 10 -8 32 -26 50 -40 18 -14 81 -63 140 -110 59 -47 119 -94 134 -105 16 -11 33 -25 40 -30 6 -6 65 -53 131 -105 66 -52 125 -99 131 -105 7 -5 24 -19 39 -30 37 -27 187 -146 203 -162 7 -7 16 -13 20 -13 4 0 25 -16 47 -35 22 -19 45 -38 50 -43 18 -13 99 -77 115 -89 73 -58 337 -267 380 -300 30 -23 69 -54 85 -67 17 -14 39 -32 50 -40 11 -8 34 -26 50 -40 32 -26 45 -24 85 13 23 20 35 29 91 72 24 19 89 70 144 114 138 109 394 311 429 338 15 12 33 27 40 32 6 6 40 33 76 60 36 27 70 54 76 60 7 5 26 21 44 35 29 23 74 58 140 110 14 11 57 44 95 75 39 30 85 67 104 82 18 16 41 32 50 37 9 5 18 12 21 16 4 6 140 115 260 208 19 15 68 54 110 87 41 33 116 92 165 130 50 38 92 72 95 75 3 3 57 46 120 95 63 49 123 96 132 104 9 9 23 21 30 26 12 9 118 90 156 120 7 5 21 17 31 25 9 8 35 28 56 45 54 40 62 47 90 73 13 12 28 22 34 22 5 0 11 3 13 8 3 6 102 87 187 152 18 13 43 33 56 45 13 11 42 33 64 49 23 17 41 33 41 38 0 4 6 8 14 8 8 0 16 3 18 8 2 4 77 66 168 137 149 116 205 161 250 198 17 14 103 81 150 117 85 64 215 172 213 177 -1 2 -19 18 -40 34 -21 16 -45 35 -53 42 -8 7 -49 39 -90 72 -41 33 -77 62 -80 65 -3 3 -72 59 -155 124 -82 66 -152 122 -155 126 -3 3 -19 16 -36 27 l-30 22 -110 -87z"/>
          </g>
          </svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-be450ad9 data-v-f38c483a data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-96001b6b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-96001b6b><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-f38c483a><div class="item appearance" data-v-f38c483a><p class="label" data-v-f38c483a>Appearance</p><div class="appearance-action" data-v-f38c483a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-f38c483a data-v-0d529b6d data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d529b6d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d529b6d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-f38c483a><div class="item social-links" data-v-f38c483a><div class="VPSocialLinks social-links-list" data-v-f38c483a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/tera-li" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://juejin.cn/user/3395724659925656/posts?sort=popular" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="764.000000pt" height="764.000000pt" viewBox="0 0 764.000000 764.000000" preserveAspectRatio="xMidYMid meet">
          <g transform="translate(0.000000,764.000000) scale(0.100000,-0.100000)" fill="#1171ee" stroke="none">
          <path d="M3710 6773 c-58 -46 -120 -96 -139 -111 -147 -117 -307 -247 -317 -256 -6 -6 -68 -55 -137 -110 -69 -54 -143 -113 -164 -132 -21 -19 -42 -34 -47 -34 -4 0 2 -11 15 -25 13 -13 29 -25 36 -25 6 0 13 -4 15 -9 2 -5 120 -102 263 -216 143 -114 278 -221 299 -238 56 -45 119 -96 131 -105 45 -33 113 -90 128 -104 21 -21 24 -22 41 -5 8 6 24 19 36 27 13 8 30 22 39 31 9 8 45 38 81 64 80 61 87 66 108 86 9 8 57 47 107 85 49 38 98 77 110 87 11 10 106 86 210 169 105 82 194 154 200 159 10 10 -22 43 -95 98 -19 14 -41 32 -48 39 -8 7 -30 25 -50 40 -21 15 -39 29 -42 33 -3 3 -122 99 -265 213 -143 113 -269 215 -280 224 -29 26 -108 88 -120 94 -5 3 -57 -32 -115 -79z"/>
          <path d="M1984 5387 c-55 -45 -117 -95 -138 -112 -22 -16 -44 -34 -50 -40 -6 -5 -34 -28 -61 -50 -28 -22 -55 -44 -62 -50 -7 -5 -18 -14 -25 -20 -50 -39 -116 -91 -130 -104 -34 -31 -46 -40 -51 -35 -2 3 -7 -2 -10 -10 -4 -9 6 -25 26 -41 18 -14 38 -30 46 -37 7 -6 34 -27 60 -46 25 -19 48 -39 49 -44 2 -4 10 -8 17 -8 7 0 15 -4 17 -8 2 -4 37 -34 78 -67 41 -32 77 -62 80 -65 3 -3 21 -17 40 -30 19 -13 37 -27 40 -30 5 -7 227 -182 290 -230 18 -14 38 -30 44 -35 6 -6 31 -26 56 -45 25 -19 47 -38 48 -42 2 -5 8 -8 14 -8 6 0 16 -6 22 -13 6 -8 52 -45 101 -83 50 -38 92 -71 95 -74 3 -3 37 -30 75 -60 39 -30 75 -59 82 -65 15 -12 27 -21 83 -65 25 -19 50 -39 56 -45 6 -5 46 -37 89 -70 120 -93 337 -265 365 -289 14 -12 41 -32 60 -46 19 -14 44 -32 55 -42 19 -15 98 -79 120 -96 75 -58 101 -78 105 -82 21 -22 140 -110 149 -110 8 0 376 284 476 368 11 9 40 32 65 51 25 19 50 39 57 45 7 6 25 21 40 33 133 103 279 218 283 223 3 3 23 19 45 35 22 16 47 35 55 42 8 7 67 53 130 103 63 50 129 101 145 115 17 13 134 105 260 205 127 100 242 191 257 203 15 12 39 31 54 42 15 11 44 34 65 51 21 17 97 78 171 135 73 57 135 106 138 109 3 3 33 28 68 55 l63 48 -31 29 c-17 15 -35 28 -40 28 -4 0 -10 4 -12 8 -1 4 -37 35 -78 67 -41 33 -77 62 -80 65 -3 3 -84 68 -180 144 -96 77 -177 142 -180 145 -32 36 -38 35 -127 -35 -49 -37 -90 -71 -93 -74 -3 -3 -45 -37 -95 -75 -97 -75 -287 -226 -320 -253 -11 -10 -36 -28 -55 -42 -19 -13 -42 -32 -51 -42 -9 -10 -19 -18 -23 -18 -3 0 -16 -9 -28 -19 -34 -29 -198 -159 -538 -426 -168 -132 -307 -242 -310 -245 -3 -3 -33 -28 -68 -54 l-63 -48 -57 43 c-31 24 -61 48 -67 53 -5 6 -28 24 -50 40 -22 17 -42 32 -45 36 -3 3 -21 17 -42 32 -20 15 -42 33 -50 40 -7 7 -40 33 -73 57 -33 25 -62 47 -65 51 -3 3 -25 21 -50 40 -25 19 -52 41 -60 47 -8 7 -82 66 -165 131 -82 64 -159 125 -170 134 -11 9 -58 46 -105 83 -106 82 -139 108 -167 132 -12 10 -36 29 -54 43 -44 34 -152 118 -164 128 -5 4 -64 50 -130 102 -66 52 -122 97 -125 100 -10 10 -89 70 -92 69 -2 0 -48 -37 -104 -82z"/>
          <path d="M6884 4222 c-60 -47 -186 -147 -280 -222 -94 -74 -186 -146 -204 -160 -78 -59 -185 -146 -188 -152 -2 -5 -8 -8 -12 -8 -5 0 -20 -10 -33 -22 -13 -13 -39 -34 -57 -48 -34 -25 -140 -109 -171 -135 -10 -7 -48 -37 -85 -66 -38 -29 -76 -60 -85 -68 -8 -9 -32 -27 -52 -41 -20 -14 -37 -28 -37 -32 0 -5 -6 -8 -14 -8 -8 0 -16 -3 -18 -8 -1 -4 -61 -54 -133 -110 -71 -57 -137 -108 -145 -115 -8 -7 -49 -38 -90 -70 -41 -32 -91 -71 -110 -87 -19 -16 -73 -59 -120 -95 -47 -36 -97 -77 -113 -90 -15 -14 -31 -25 -36 -25 -5 0 -11 -3 -13 -7 -2 -7 -59 -54 -133 -111 -64 -49 -183 -143 -195 -154 -9 -7 -67 -53 -130 -103 -63 -49 -116 -93 -118 -97 -2 -4 -8 -8 -13 -8 -5 0 -20 -9 -32 -21 -18 -17 -95 -78 -282 -224 -16 -13 -61 -48 -99 -78 l-68 -55 -82 65 c-114 92 -138 111 -256 203 -58 45 -107 85 -110 89 -3 3 -43 35 -90 71 -107 81 -98 74 -145 115 -22 19 -43 35 -47 35 -4 0 -13 6 -20 13 -7 7 -49 41 -93 76 -44 34 -93 73 -110 86 -16 14 -100 79 -185 146 -146 116 -303 239 -325 257 -5 4 -48 38 -95 75 -215 169 -557 441 -578 458 -12 10 -27 19 -32 19 -6 0 -10 3 -10 8 0 4 -33 32 -72 62 -40 30 -102 78 -138 108 -36 29 -168 134 -295 233 -126 99 -239 188 -250 197 -11 9 -63 50 -115 91 -52 41 -97 78 -98 83 -5 12 -42 9 -56 -4 -7 -7 -27 -24 -45 -38 -18 -14 -63 -50 -100 -80 -187 -153 -416 -335 -424 -339 -5 -2 -18 -12 -28 -22 -18 -18 -17 -20 41 -64 32 -25 65 -51 72 -58 7 -6 31 -25 53 -41 22 -17 42 -33 45 -36 3 -3 45 -37 95 -75 49 -39 97 -75 105 -82 42 -34 291 -231 316 -250 16 -12 40 -31 54 -42 14 -11 66 -52 115 -91 50 -39 99 -78 109 -87 11 -9 40 -32 65 -51 25 -19 67 -52 92 -73 26 -22 52 -39 58 -39 6 0 11 -4 11 -8 0 -4 21 -24 48 -44 26 -20 57 -45 69 -55 12 -10 34 -27 49 -38 15 -11 32 -24 38 -30 6 -5 29 -23 51 -39 22 -17 42 -33 45 -36 3 -3 46 -37 95 -75 50 -38 92 -72 95 -75 3 -3 23 -19 45 -35 22 -17 42 -32 45 -36 5 -5 178 -142 240 -189 18 -14 40 -32 50 -40 10 -8 32 -26 50 -40 18 -14 81 -63 140 -110 59 -47 119 -94 134 -105 16 -11 33 -25 40 -30 6 -6 65 -53 131 -105 66 -52 125 -99 131 -105 7 -5 24 -19 39 -30 37 -27 187 -146 203 -162 7 -7 16 -13 20 -13 4 0 25 -16 47 -35 22 -19 45 -38 50 -43 18 -13 99 -77 115 -89 73 -58 337 -267 380 -300 30 -23 69 -54 85 -67 17 -14 39 -32 50 -40 11 -8 34 -26 50 -40 32 -26 45 -24 85 13 23 20 35 29 91 72 24 19 89 70 144 114 138 109 394 311 429 338 15 12 33 27 40 32 6 6 40 33 76 60 36 27 70 54 76 60 7 5 26 21 44 35 29 23 74 58 140 110 14 11 57 44 95 75 39 30 85 67 104 82 18 16 41 32 50 37 9 5 18 12 21 16 4 6 140 115 260 208 19 15 68 54 110 87 41 33 116 92 165 130 50 38 92 72 95 75 3 3 57 46 120 95 63 49 123 96 132 104 9 9 23 21 30 26 12 9 118 90 156 120 7 5 21 17 31 25 9 8 35 28 56 45 54 40 62 47 90 73 13 12 28 22 34 22 5 0 11 3 13 8 3 6 102 87 187 152 18 13 43 33 56 45 13 11 42 33 64 49 23 17 41 33 41 38 0 4 6 8 14 8 8 0 16 3 18 8 2 4 77 66 168 137 149 116 205 161 250 198 17 14 103 81 150 117 85 64 215 172 213 177 -1 2 -19 18 -40 34 -21 16 -45 35 -53 42 -8 7 -49 39 -90 72 -41 33 -77 62 -80 65 -3 3 -72 59 -155 124 -82 66 -152 122 -155 126 -3 3 -19 16 -36 27 l-30 22 -110 -87z"/>
          </g>
          </svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-be450ad9 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-93a960b4 data-v-2817d72e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2817d72e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-2817d72e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-2817d72e>Menu</span></button><a class="top-link" href="#" data-v-2817d72e>Return to top</a></div><aside class="VPSidebar" data-v-93a960b4 data-v-c79ccefa><div class="curtain" data-v-c79ccefa></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c79ccefa><span class="visually-hidden" id="sidebar-aria-label" data-v-c79ccefa> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c79ccefa data-v-b05232f3><div class="item" role="button" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link" data-v-b05232f3 data-v-30c06bd3><!--[--><h2 class="text" data-v-b05232f3>打包部署</h2><!--]--><!----></a><div class="caret" role="button" data-v-b05232f3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-b05232f3><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-b05232f3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b05232f3 data-v-b05232f3><div class="item" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link link" href="/build/" data-v-b05232f3 data-v-30c06bd3><!--[--><p class="text" data-v-b05232f3>Webpack</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b05232f3 data-v-b05232f3><div class="item" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link link" href="/build/vite.html" data-v-b05232f3 data-v-30c06bd3><!--[--><p class="text" data-v-b05232f3>Vite</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b05232f3 data-v-b05232f3><div class="item" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link link" href="/build/npm.html" data-v-b05232f3 data-v-30c06bd3><!--[--><p class="text" data-v-b05232f3>Npm</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b05232f3 data-v-b05232f3><div class="item" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link link" href="/build/tool.html" data-v-b05232f3 data-v-30c06bd3><!--[--><p class="text" data-v-b05232f3>Tool</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b05232f3 data-v-b05232f3><div class="item" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link link" href="/build/front-end-engineering.html" data-v-b05232f3 data-v-30c06bd3><!--[--><p class="text" data-v-b05232f3>前端工程化</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0 collapsible has-active" data-v-c79ccefa data-v-b05232f3><div class="item" role="button" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link" data-v-b05232f3 data-v-30c06bd3><!--[--><h2 class="text" data-v-b05232f3>性能优化</h2><!--]--><!----></a><div class="caret" role="button" data-v-b05232f3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-b05232f3><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-b05232f3><!--[--><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-b05232f3 data-v-b05232f3><div class="item" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link link" href="/build/http-performance.html" data-v-b05232f3 data-v-30c06bd3><!--[--><p class="text" data-v-b05232f3>Http</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b05232f3 data-v-b05232f3><div class="item" data-v-b05232f3><div class="indicator" data-v-b05232f3></div><a class="VPLink link link" href="/build/build-performance.html" data-v-b05232f3 data-v-30c06bd3><!--[--><p class="text" data-v-b05232f3>Build</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-93a960b4 data-v-0bd490fb><div class="VPDoc has-sidebar has-aside" data-v-0bd490fb data-v-c5936a1e><div class="container" data-v-c5936a1e><div class="aside" data-v-c5936a1e><div class="aside-curtain" data-v-c5936a1e></div><div class="aside-container" data-v-c5936a1e><div class="aside-content" data-v-c5936a1e><div class="VPDocAside" data-v-c5936a1e data-v-cdc66372><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-cdc66372 data-v-5dd9d5f6><div class="content" data-v-5dd9d5f6><div class="outline-marker" data-v-5dd9d5f6></div><div class="outline-title" data-v-5dd9d5f6>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-5dd9d5f6><span class="visually-hidden" id="doc-outline-aria-label" data-v-5dd9d5f6> Table of Contents for current page </span><ul class="root" data-v-5dd9d5f6 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cdc66372></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c5936a1e><div class="content-container" data-v-c5936a1e><!--[--><!--]--><main class="main" data-v-c5936a1e><div style="position:relative;" class="vp-doc _build_http-performance" data-v-c5936a1e><div><h1 id="http-performance-optimization" tabindex="-1">HTTP Performance Optimization <a class="header-anchor" href="#http-performance-optimization" aria-hidden="true">#</a></h1><h2 id="dns" tabindex="-1">DNS <a class="header-anchor" href="#dns" aria-hidden="true">#</a></h2><p>在载入URL后，首先会去请求加载URL的IP，这就涉及到DNS解析时间，DNS优化则可总结为以下两点：</p><ol><li>减少DNS请求次数 <ol><li>在同一个网站中，减少不同域名的使用，使其降低DNS解析的时间</li></ol></li><li>缩短DNS解析时间 <ol><li>采用<code>dns-prefetch</code>，<strong>提前解析第三方服务器的IP地址</strong>，当之后有请求用到该IP时将不再耗费DNS解析时间</li><li>能够有效帮助缩短DNS解析产生的延迟</li></ol></li></ol><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">link</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">rel</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&quot;dns-prefetch&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">href</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&quot;https://baidu.com/&quot;</span><span style="color:#F8F8F2;">&gt; </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>参考链接：<a href="https://developer.mozilla.org/zh-CN/docs/Web/Performance/dns-prefetch" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/Performance/dns-prefetch</a></p><h2 id="gzip" tabindex="-1">GZIP <a class="header-anchor" href="#gzip" aria-hidden="true">#</a></h2><p>HTTP请求头: Accept-Encoding: gzip, deflate, br<br> HTTP响应头: Content-Encoding: gzip</p><ol><li>动态压缩: 在nginx.conf配置动态开启gzip，请求发生时nginx实时压缩返回文件</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">#开启gzip</span></span>
<span class="line"><span style="color:#F8F8F2;">gzip  on;  </span></span>
<span class="line"><span style="color:#F8F8F2;">#低于1kb的资源不压缩 </span></span>
<span class="line"><span style="color:#F8F8F2;">gzip_min_length 1k;</span></span>
<span class="line"><span style="color:#F8F8F2;">#压缩级别1</span><span style="color:#F92672;">-</span><span style="color:#AE81FF;">9</span><span style="color:#F8F8F2;">，越大压缩率越高，同时消耗cpu资源也越多，建议设置在5左右。 </span></span>
<span class="line"><span style="color:#F8F8F2;">gzip_comp_level </span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">; </span></span>
<span class="line"><span style="color:#F8F8F2;">#需要压缩哪些响应类型的资源，多个空格隔开。不建议压缩图片.</span></span>
<span class="line"><span style="color:#F8F8F2;">gzip_types text</span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;">plain application</span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;">javascript application</span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;">x</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">javascript text</span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;">javascript text</span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;">xml text</span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;">css;  </span></span>
<span class="line"><span style="color:#F8F8F2;">#配置禁用gzip条件，支持正则。此处表示ie6及以下不启用gzip（因为ie低版本不支持）</span></span>
<span class="line"><span style="color:#F8F8F2;">gzip_disable </span><span style="color:#E6DB74;">&quot;MSIE [1-6]</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">&quot;</span><span style="color:#F8F8F2;">;  </span></span>
<span class="line"><span style="color:#F8F8F2;">#是否添加“Vary: Accept</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">Encoding”响应头</span></span>
<span class="line"><span style="color:#F8F8F2;">gzip_vary on;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="2"><li><strong>静态压缩</strong>: 提前将文件压缩成 .gz 格式，请求来了，直接返回即可</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;"># 开启gzip静态文件返回，请求文件中有匹配到 .gz 则返回，无则返回请求文件</span></span>
<span class="line"><span style="color:#F8F8F2;">gzip_static on;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="缓存" tabindex="-1">缓存 <a class="header-anchor" href="#缓存" aria-hidden="true">#</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// 开启强制缓存</span></span>
<span class="line"><span style="color:#88846F;">// 300秒内加载本地缓存，不会去请求服务器，超过时间后会去请求，匹配文件是否修改，无修改则304，有修改则200</span></span>
<span class="line"><span style="color:#F8F8F2;">add_header Cache</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">Control max</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">age</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">300</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// 开启协商缓存</span></span>
<span class="line"><span style="color:#88846F;">// 请求会通过 ETag/If-None-Match 或者 Last-Modified/If-Modified-Since 匹配文件是否修改，无修改则304，有修改则200</span></span>
<span class="line"><span style="color:#F8F8F2;">add_header Cache</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">Control max</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">age</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="针对协议版本采取优化措施" tabindex="-1">针对协议版本采取优化措施 <a class="header-anchor" href="#针对协议版本采取优化措施" aria-hidden="true">#</a></h2><p><img src="/assets/http-performance.d8863707.png" alt=""><img src="/assets/http-tcp.f45fc958.png" alt=""></p><h3 id="connection-keep-live" tabindex="-1">connection: keep-live <a class="header-anchor" href="#connection-keep-live" aria-hidden="true">#</a></h3><p>持久化HTTP，通过重用TCP连接，减少HTTP响应时间</p><h2 id="http2" tabindex="-1">HTTP2 <a class="header-anchor" href="#http2" aria-hidden="true">#</a></h2><h3 id="头部压缩" tabindex="-1">头部压缩 <a class="header-anchor" href="#头部压缩" aria-hidden="true">#</a></h3><ol><li>HTTP2 中对 HTTP 的头部进行压缩，常用头部使用数字类似的字典替代，节省头部传输流量</li></ol><h3 id="server-push" tabindex="-1">Server Push <a class="header-anchor" href="#server-push" aria-hidden="true">#</a></h3><ol><li>HTTP2 会对比如HTML中的引用css或js等资源，在服务端就提前简析并<strong>主动Push发送请求</strong>，减少客户端的解析请求时间</li><li>服务端会根据静态资源的依赖关系，主动向客户端推送可用用的静态资源，减少请求交互次数</li></ol><h3 id="多路复用" tabindex="-1">多路复用 <a class="header-anchor" href="#多路复用" aria-hidden="true">#</a></h3><ol><li>HTTP2 开启TCP connection，通过stream和frame进行传输，frame中的字段identifier标识此帧属于哪一个stream</li><li>identifier相同的frame属于同一流，服务端将identifier相同的帧解析成可用数据</li><li>在这个TCP connection中，同时传输了多个stream的帧数据，这就是HTTP/2的多路复用</li><li>相对于HTTP1.1，请求响应是有序的，而HTTP2多路复用通过流来传输，是无序的，这也是更快的一个点</li><li>提高请求并发数量，节省响应时间</li></ol></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-c5936a1e data-v-e033cd21><div class="edit-info" data-v-e033cd21><div class="edit-link" data-v-e033cd21><a class="VPLink link edit-link-button" href="https://github.com/tera-li/docs/blob/main/docs/build/http-performance.md" target="_blank" rel="noreferrer" data-v-e033cd21 data-v-30c06bd3><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-e033cd21><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--><!----></a></div><div class="last-updated" data-v-e033cd21><p class="VPLastUpdated" data-v-e033cd21 data-v-355aa5ef>最近更新时间 : <time datetime="2023-02-25T13:49:11.000Z" data-v-355aa5ef></time></p></div></div><div class="prev-next" data-v-e033cd21><div class="pager" data-v-e033cd21><a class="pager-link prev" href="/build/front-end-engineering.html" data-v-e033cd21><span class="desc" data-v-e033cd21>Previous page</span><span class="title" data-v-e033cd21>前端工程化</span></a></div><div class="has-prev pager" data-v-e033cd21><a class="pager-link next" href="/build/build-performance.html" data-v-e033cd21><span class="desc" data-v-e033cd21>Next page</span><span class="title" data-v-e033cd21>Build</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-93a960b4 data-v-d24360a6><div class="container" data-v-d24360a6><p class="message" data-v-d24360a6>Released under the MIT License.</p><p class="copyright" data-v-d24360a6>Copyright © 2022-present Terali</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"react_react-hook.md\":\"15059673\",\"vue_pinia.md\":\"1fe0a878\",\"build_build-performance.md\":\"cf6462fb\",\"vue_index.md\":\"8e7695a2\",\"react_index.md\":\"fed44924\",\"build_front-end-engineering.md\":\"cb02dc0b\",\"build_http-performance.md\":\"13e427e8\",\"build_npm.md\":\"435d713e\",\"build_tool.md\":\"3275591b\",\"build_vite.md\":\"46663628\",\"index.md\":\"edd12ff7\",\"javascript_index.md\":\"d09d38f8\",\"javascript_js-datacommunication.md\":\"7fbdf2af\",\"javascript_js-engine.md\":\"ad36f45b\",\"algorithm_index.md\":\"29ca941f\",\"javascript_js-proto.md\":\"0c90dee0\",\"javascript_js-webcomponent.md\":\"f203e1f4\",\"javascript_js-window.md\":\"5e8445bc\",\"network_http-cache.md\":\"2f140bad\",\"network_index.md\":\"fa604b79\",\"network_web-construction.md\":\"0900b9f5\",\"network_web-safety.md\":\"e639ada0\",\"vue_vue2-reactive.md\":\"7204687f\",\"build_index.md\":\"0d6c1f9e\",\"other_index.md\":\"f73912cf\",\"javascript_js-datatype.md\":\"7f313b72\",\"other_ts-declare.md\":\"6fc191bf\",\"other_ts-inlay-type.md\":\"9873546d\",\"javascript_js-design.md\":\"23c948fc\",\"javascript_js-feat.md\":\"e389f846\",\"other_node-basic-module.md\":\"98a31532\",\"css_index.md\":\"8c0d4557\",\"html_index.md\":\"8e97c822\"}")</script>
    <script type="module" async src="/assets/app.1a67c3a4.js"></script>
    
  </body>
</html>