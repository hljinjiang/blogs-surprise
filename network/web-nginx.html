<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx</title>
    <meta name="description" content="terali's Docs，terali的博客，surprise，前端，前端技术博客，囊括前端基础、进阶、日常记录、笔记">
    <link rel="preload stylesheet" href="/assets/style.8bebc63a.css" as="style">
    <script type="module" src="/assets/app.9c4db766.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.76b79cb5.js">
  <link rel="modulepreload" href="/assets/chunks/theme.7f3841d8.js">
  <link rel="modulepreload" href="/assets/network_web-nginx.md.d881c31e.lean.js">
  <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/tera-li/static-cdn@0.0.4/img/my.jpg">
  <meta name="title" content="terali&#39;s Docs">
  <meta name="description" content="terali&#39;s Docs，terali的博客，surprise，前端，前端技术博客，囊括前端基础、进阶、日常记录、笔记">
  <meta name="keywords" content="terali,Docs,web,surprise,terali的博客,前端,前端技术博客,前端基础,前端进阶,前端笔记">
  <meta name="google-site-verification" content="WsLa9IEnN2TZzy4k0HF1GNYCghbHHtSDM80dokpEi3E">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-99cf8a88><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae3e3f51></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae3e3f51> Skip to content </a><!--]--><!----><header class="VPNav" data-v-99cf8a88 data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-381568bf><div class="container" data-v-381568bf><div class="title" data-v-381568bf><div class="VPNavBarTitle has-sidebar" data-v-381568bf data-v-305adf00><a class="title" href="/" data-v-305adf00><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://cdn.jsdelivr.net/gh/tera-li/static-cdn@0.0.4/img/my.jpg" alt data-v-6db2186b><!--]--><!--[-->Web Front End<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-381568bf><div class="curtain" data-v-381568bf></div><div class="content-body" data-v-381568bf><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-381568bf><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-381568bf data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/html/" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->基础<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/frontend/vue/" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->框架<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/build/" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->构建<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/network/" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->网络<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/algorithm/" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->算法<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/other/" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->其它<!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-381568bf data-v-f6a63727><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-f6a63727 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-381568bf data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink" href="https://github.com/tera-li" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://juejin.cn/user/3395724659925656/posts?sort=popular" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="764.000000pt" height="764.000000pt" viewBox="0 0 764.000000 764.000000" preserveAspectRatio="xMidYMid meet">
          <g transform="translate(0.000000,764.000000) scale(0.100000,-0.100000)" fill="#1171ee" stroke="none">
          <path d="M3710 6773 c-58 -46 -120 -96 -139 -111 -147 -117 -307 -247 -317 -256 -6 -6 -68 -55 -137 -110 -69 -54 -143 -113 -164 -132 -21 -19 -42 -34 -47 -34 -4 0 2 -11 15 -25 13 -13 29 -25 36 -25 6 0 13 -4 15 -9 2 -5 120 -102 263 -216 143 -114 278 -221 299 -238 56 -45 119 -96 131 -105 45 -33 113 -90 128 -104 21 -21 24 -22 41 -5 8 6 24 19 36 27 13 8 30 22 39 31 9 8 45 38 81 64 80 61 87 66 108 86 9 8 57 47 107 85 49 38 98 77 110 87 11 10 106 86 210 169 105 82 194 154 200 159 10 10 -22 43 -95 98 -19 14 -41 32 -48 39 -8 7 -30 25 -50 40 -21 15 -39 29 -42 33 -3 3 -122 99 -265 213 -143 113 -269 215 -280 224 -29 26 -108 88 -120 94 -5 3 -57 -32 -115 -79z"/>
          <path d="M1984 5387 c-55 -45 -117 -95 -138 -112 -22 -16 -44 -34 -50 -40 -6 -5 -34 -28 -61 -50 -28 -22 -55 -44 -62 -50 -7 -5 -18 -14 -25 -20 -50 -39 -116 -91 -130 -104 -34 -31 -46 -40 -51 -35 -2 3 -7 -2 -10 -10 -4 -9 6 -25 26 -41 18 -14 38 -30 46 -37 7 -6 34 -27 60 -46 25 -19 48 -39 49 -44 2 -4 10 -8 17 -8 7 0 15 -4 17 -8 2 -4 37 -34 78 -67 41 -32 77 -62 80 -65 3 -3 21 -17 40 -30 19 -13 37 -27 40 -30 5 -7 227 -182 290 -230 18 -14 38 -30 44 -35 6 -6 31 -26 56 -45 25 -19 47 -38 48 -42 2 -5 8 -8 14 -8 6 0 16 -6 22 -13 6 -8 52 -45 101 -83 50 -38 92 -71 95 -74 3 -3 37 -30 75 -60 39 -30 75 -59 82 -65 15 -12 27 -21 83 -65 25 -19 50 -39 56 -45 6 -5 46 -37 89 -70 120 -93 337 -265 365 -289 14 -12 41 -32 60 -46 19 -14 44 -32 55 -42 19 -15 98 -79 120 -96 75 -58 101 -78 105 -82 21 -22 140 -110 149 -110 8 0 376 284 476 368 11 9 40 32 65 51 25 19 50 39 57 45 7 6 25 21 40 33 133 103 279 218 283 223 3 3 23 19 45 35 22 16 47 35 55 42 8 7 67 53 130 103 63 50 129 101 145 115 17 13 134 105 260 205 127 100 242 191 257 203 15 12 39 31 54 42 15 11 44 34 65 51 21 17 97 78 171 135 73 57 135 106 138 109 3 3 33 28 68 55 l63 48 -31 29 c-17 15 -35 28 -40 28 -4 0 -10 4 -12 8 -1 4 -37 35 -78 67 -41 33 -77 62 -80 65 -3 3 -84 68 -180 144 -96 77 -177 142 -180 145 -32 36 -38 35 -127 -35 -49 -37 -90 -71 -93 -74 -3 -3 -45 -37 -95 -75 -97 -75 -287 -226 -320 -253 -11 -10 -36 -28 -55 -42 -19 -13 -42 -32 -51 -42 -9 -10 -19 -18 -23 -18 -3 0 -16 -9 -28 -19 -34 -29 -198 -159 -538 -426 -168 -132 -307 -242 -310 -245 -3 -3 -33 -28 -68 -54 l-63 -48 -57 43 c-31 24 -61 48 -67 53 -5 6 -28 24 -50 40 -22 17 -42 32 -45 36 -3 3 -21 17 -42 32 -20 15 -42 33 -50 40 -7 7 -40 33 -73 57 -33 25 -62 47 -65 51 -3 3 -25 21 -50 40 -25 19 -52 41 -60 47 -8 7 -82 66 -165 131 -82 64 -159 125 -170 134 -11 9 -58 46 -105 83 -106 82 -139 108 -167 132 -12 10 -36 29 -54 43 -44 34 -152 118 -164 128 -5 4 -64 50 -130 102 -66 52 -122 97 -125 100 -10 10 -89 70 -92 69 -2 0 -48 -37 -104 -82z"/>
          <path d="M6884 4222 c-60 -47 -186 -147 -280 -222 -94 -74 -186 -146 -204 -160 -78 -59 -185 -146 -188 -152 -2 -5 -8 -8 -12 -8 -5 0 -20 -10 -33 -22 -13 -13 -39 -34 -57 -48 -34 -25 -140 -109 -171 -135 -10 -7 -48 -37 -85 -66 -38 -29 -76 -60 -85 -68 -8 -9 -32 -27 -52 -41 -20 -14 -37 -28 -37 -32 0 -5 -6 -8 -14 -8 -8 0 -16 -3 -18 -8 -1 -4 -61 -54 -133 -110 -71 -57 -137 -108 -145 -115 -8 -7 -49 -38 -90 -70 -41 -32 -91 -71 -110 -87 -19 -16 -73 -59 -120 -95 -47 -36 -97 -77 -113 -90 -15 -14 -31 -25 -36 -25 -5 0 -11 -3 -13 -7 -2 -7 -59 -54 -133 -111 -64 -49 -183 -143 -195 -154 -9 -7 -67 -53 -130 -103 -63 -49 -116 -93 -118 -97 -2 -4 -8 -8 -13 -8 -5 0 -20 -9 -32 -21 -18 -17 -95 -78 -282 -224 -16 -13 -61 -48 -99 -78 l-68 -55 -82 65 c-114 92 -138 111 -256 203 -58 45 -107 85 -110 89 -3 3 -43 35 -90 71 -107 81 -98 74 -145 115 -22 19 -43 35 -47 35 -4 0 -13 6 -20 13 -7 7 -49 41 -93 76 -44 34 -93 73 -110 86 -16 14 -100 79 -185 146 -146 116 -303 239 -325 257 -5 4 -48 38 -95 75 -215 169 -557 441 -578 458 -12 10 -27 19 -32 19 -6 0 -10 3 -10 8 0 4 -33 32 -72 62 -40 30 -102 78 -138 108 -36 29 -168 134 -295 233 -126 99 -239 188 -250 197 -11 9 -63 50 -115 91 -52 41 -97 78 -98 83 -5 12 -42 9 -56 -4 -7 -7 -27 -24 -45 -38 -18 -14 -63 -50 -100 -80 -187 -153 -416 -335 -424 -339 -5 -2 -18 -12 -28 -22 -18 -18 -17 -20 41 -64 32 -25 65 -51 72 -58 7 -6 31 -25 53 -41 22 -17 42 -33 45 -36 3 -3 45 -37 95 -75 49 -39 97 -75 105 -82 42 -34 291 -231 316 -250 16 -12 40 -31 54 -42 14 -11 66 -52 115 -91 50 -39 99 -78 109 -87 11 -9 40 -32 65 -51 25 -19 67 -52 92 -73 26 -22 52 -39 58 -39 6 0 11 -4 11 -8 0 -4 21 -24 48 -44 26 -20 57 -45 69 -55 12 -10 34 -27 49 -38 15 -11 32 -24 38 -30 6 -5 29 -23 51 -39 22 -17 42 -33 45 -36 3 -3 46 -37 95 -75 50 -38 92 -72 95 -75 3 -3 23 -19 45 -35 22 -17 42 -32 45 -36 5 -5 178 -142 240 -189 18 -14 40 -32 50 -40 10 -8 32 -26 50 -40 18 -14 81 -63 140 -110 59 -47 119 -94 134 -105 16 -11 33 -25 40 -30 6 -6 65 -53 131 -105 66 -52 125 -99 131 -105 7 -5 24 -19 39 -30 37 -27 187 -146 203 -162 7 -7 16 -13 20 -13 4 0 25 -16 47 -35 22 -19 45 -38 50 -43 18 -13 99 -77 115 -89 73 -58 337 -267 380 -300 30 -23 69 -54 85 -67 17 -14 39 -32 50 -40 11 -8 34 -26 50 -40 32 -26 45 -24 85 13 23 20 35 29 91 72 24 19 89 70 144 114 138 109 394 311 429 338 15 12 33 27 40 32 6 6 40 33 76 60 36 27 70 54 76 60 7 5 26 21 44 35 29 23 74 58 140 110 14 11 57 44 95 75 39 30 85 67 104 82 18 16 41 32 50 37 9 5 18 12 21 16 4 6 140 115 260 208 19 15 68 54 110 87 41 33 116 92 165 130 50 38 92 72 95 75 3 3 57 46 120 95 63 49 123 96 132 104 9 9 23 21 30 26 12 9 118 90 156 120 7 5 21 17 31 25 9 8 35 28 56 45 54 40 62 47 90 73 13 12 28 22 34 22 5 0 11 3 13 8 3 6 102 87 187 152 18 13 43 33 56 45 13 11 42 33 64 49 23 17 41 33 41 38 0 4 6 8 14 8 8 0 16 3 18 8 2 4 77 66 168 137 149 116 205 161 250 198 17 14 103 81 150 117 85 64 215 172 213 177 -1 2 -19 18 -40 34 -21 16 -45 35 -53 42 -8 7 -49 39 -90 72 -41 33 -77 62 -80 65 -3 3 -72 59 -155 124 -82 66 -152 122 -155 126 -3 3 -19 16 -36 27 l-30 22 -110 -87z"/>
          </g>
          </svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-381568bf data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink" href="https://github.com/tera-li" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://juejin.cn/user/3395724659925656/posts?sort=popular" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="764.000000pt" height="764.000000pt" viewBox="0 0 764.000000 764.000000" preserveAspectRatio="xMidYMid meet">
          <g transform="translate(0.000000,764.000000) scale(0.100000,-0.100000)" fill="#1171ee" stroke="none">
          <path d="M3710 6773 c-58 -46 -120 -96 -139 -111 -147 -117 -307 -247 -317 -256 -6 -6 -68 -55 -137 -110 -69 -54 -143 -113 -164 -132 -21 -19 -42 -34 -47 -34 -4 0 2 -11 15 -25 13 -13 29 -25 36 -25 6 0 13 -4 15 -9 2 -5 120 -102 263 -216 143 -114 278 -221 299 -238 56 -45 119 -96 131 -105 45 -33 113 -90 128 -104 21 -21 24 -22 41 -5 8 6 24 19 36 27 13 8 30 22 39 31 9 8 45 38 81 64 80 61 87 66 108 86 9 8 57 47 107 85 49 38 98 77 110 87 11 10 106 86 210 169 105 82 194 154 200 159 10 10 -22 43 -95 98 -19 14 -41 32 -48 39 -8 7 -30 25 -50 40 -21 15 -39 29 -42 33 -3 3 -122 99 -265 213 -143 113 -269 215 -280 224 -29 26 -108 88 -120 94 -5 3 -57 -32 -115 -79z"/>
          <path d="M1984 5387 c-55 -45 -117 -95 -138 -112 -22 -16 -44 -34 -50 -40 -6 -5 -34 -28 -61 -50 -28 -22 -55 -44 -62 -50 -7 -5 -18 -14 -25 -20 -50 -39 -116 -91 -130 -104 -34 -31 -46 -40 -51 -35 -2 3 -7 -2 -10 -10 -4 -9 6 -25 26 -41 18 -14 38 -30 46 -37 7 -6 34 -27 60 -46 25 -19 48 -39 49 -44 2 -4 10 -8 17 -8 7 0 15 -4 17 -8 2 -4 37 -34 78 -67 41 -32 77 -62 80 -65 3 -3 21 -17 40 -30 19 -13 37 -27 40 -30 5 -7 227 -182 290 -230 18 -14 38 -30 44 -35 6 -6 31 -26 56 -45 25 -19 47 -38 48 -42 2 -5 8 -8 14 -8 6 0 16 -6 22 -13 6 -8 52 -45 101 -83 50 -38 92 -71 95 -74 3 -3 37 -30 75 -60 39 -30 75 -59 82 -65 15 -12 27 -21 83 -65 25 -19 50 -39 56 -45 6 -5 46 -37 89 -70 120 -93 337 -265 365 -289 14 -12 41 -32 60 -46 19 -14 44 -32 55 -42 19 -15 98 -79 120 -96 75 -58 101 -78 105 -82 21 -22 140 -110 149 -110 8 0 376 284 476 368 11 9 40 32 65 51 25 19 50 39 57 45 7 6 25 21 40 33 133 103 279 218 283 223 3 3 23 19 45 35 22 16 47 35 55 42 8 7 67 53 130 103 63 50 129 101 145 115 17 13 134 105 260 205 127 100 242 191 257 203 15 12 39 31 54 42 15 11 44 34 65 51 21 17 97 78 171 135 73 57 135 106 138 109 3 3 33 28 68 55 l63 48 -31 29 c-17 15 -35 28 -40 28 -4 0 -10 4 -12 8 -1 4 -37 35 -78 67 -41 33 -77 62 -80 65 -3 3 -84 68 -180 144 -96 77 -177 142 -180 145 -32 36 -38 35 -127 -35 -49 -37 -90 -71 -93 -74 -3 -3 -45 -37 -95 -75 -97 -75 -287 -226 -320 -253 -11 -10 -36 -28 -55 -42 -19 -13 -42 -32 -51 -42 -9 -10 -19 -18 -23 -18 -3 0 -16 -9 -28 -19 -34 -29 -198 -159 -538 -426 -168 -132 -307 -242 -310 -245 -3 -3 -33 -28 -68 -54 l-63 -48 -57 43 c-31 24 -61 48 -67 53 -5 6 -28 24 -50 40 -22 17 -42 32 -45 36 -3 3 -21 17 -42 32 -20 15 -42 33 -50 40 -7 7 -40 33 -73 57 -33 25 -62 47 -65 51 -3 3 -25 21 -50 40 -25 19 -52 41 -60 47 -8 7 -82 66 -165 131 -82 64 -159 125 -170 134 -11 9 -58 46 -105 83 -106 82 -139 108 -167 132 -12 10 -36 29 -54 43 -44 34 -152 118 -164 128 -5 4 -64 50 -130 102 -66 52 -122 97 -125 100 -10 10 -89 70 -92 69 -2 0 -48 -37 -104 -82z"/>
          <path d="M6884 4222 c-60 -47 -186 -147 -280 -222 -94 -74 -186 -146 -204 -160 -78 -59 -185 -146 -188 -152 -2 -5 -8 -8 -12 -8 -5 0 -20 -10 -33 -22 -13 -13 -39 -34 -57 -48 -34 -25 -140 -109 -171 -135 -10 -7 -48 -37 -85 -66 -38 -29 -76 -60 -85 -68 -8 -9 -32 -27 -52 -41 -20 -14 -37 -28 -37 -32 0 -5 -6 -8 -14 -8 -8 0 -16 -3 -18 -8 -1 -4 -61 -54 -133 -110 -71 -57 -137 -108 -145 -115 -8 -7 -49 -38 -90 -70 -41 -32 -91 -71 -110 -87 -19 -16 -73 -59 -120 -95 -47 -36 -97 -77 -113 -90 -15 -14 -31 -25 -36 -25 -5 0 -11 -3 -13 -7 -2 -7 -59 -54 -133 -111 -64 -49 -183 -143 -195 -154 -9 -7 -67 -53 -130 -103 -63 -49 -116 -93 -118 -97 -2 -4 -8 -8 -13 -8 -5 0 -20 -9 -32 -21 -18 -17 -95 -78 -282 -224 -16 -13 -61 -48 -99 -78 l-68 -55 -82 65 c-114 92 -138 111 -256 203 -58 45 -107 85 -110 89 -3 3 -43 35 -90 71 -107 81 -98 74 -145 115 -22 19 -43 35 -47 35 -4 0 -13 6 -20 13 -7 7 -49 41 -93 76 -44 34 -93 73 -110 86 -16 14 -100 79 -185 146 -146 116 -303 239 -325 257 -5 4 -48 38 -95 75 -215 169 -557 441 -578 458 -12 10 -27 19 -32 19 -6 0 -10 3 -10 8 0 4 -33 32 -72 62 -40 30 -102 78 -138 108 -36 29 -168 134 -295 233 -126 99 -239 188 -250 197 -11 9 -63 50 -115 91 -52 41 -97 78 -98 83 -5 12 -42 9 -56 -4 -7 -7 -27 -24 -45 -38 -18 -14 -63 -50 -100 -80 -187 -153 -416 -335 -424 -339 -5 -2 -18 -12 -28 -22 -18 -18 -17 -20 41 -64 32 -25 65 -51 72 -58 7 -6 31 -25 53 -41 22 -17 42 -33 45 -36 3 -3 45 -37 95 -75 49 -39 97 -75 105 -82 42 -34 291 -231 316 -250 16 -12 40 -31 54 -42 14 -11 66 -52 115 -91 50 -39 99 -78 109 -87 11 -9 40 -32 65 -51 25 -19 67 -52 92 -73 26 -22 52 -39 58 -39 6 0 11 -4 11 -8 0 -4 21 -24 48 -44 26 -20 57 -45 69 -55 12 -10 34 -27 49 -38 15 -11 32 -24 38 -30 6 -5 29 -23 51 -39 22 -17 42 -33 45 -36 3 -3 46 -37 95 -75 50 -38 92 -72 95 -75 3 -3 23 -19 45 -35 22 -17 42 -32 45 -36 5 -5 178 -142 240 -189 18 -14 40 -32 50 -40 10 -8 32 -26 50 -40 18 -14 81 -63 140 -110 59 -47 119 -94 134 -105 16 -11 33 -25 40 -30 6 -6 65 -53 131 -105 66 -52 125 -99 131 -105 7 -5 24 -19 39 -30 37 -27 187 -146 203 -162 7 -7 16 -13 20 -13 4 0 25 -16 47 -35 22 -19 45 -38 50 -43 18 -13 99 -77 115 -89 73 -58 337 -267 380 -300 30 -23 69 -54 85 -67 17 -14 39 -32 50 -40 11 -8 34 -26 50 -40 32 -26 45 -24 85 13 23 20 35 29 91 72 24 19 89 70 144 114 138 109 394 311 429 338 15 12 33 27 40 32 6 6 40 33 76 60 36 27 70 54 76 60 7 5 26 21 44 35 29 23 74 58 140 110 14 11 57 44 95 75 39 30 85 67 104 82 18 16 41 32 50 37 9 5 18 12 21 16 4 6 140 115 260 208 19 15 68 54 110 87 41 33 116 92 165 130 50 38 92 72 95 75 3 3 57 46 120 95 63 49 123 96 132 104 9 9 23 21 30 26 12 9 118 90 156 120 7 5 21 17 31 25 9 8 35 28 56 45 54 40 62 47 90 73 13 12 28 22 34 22 5 0 11 3 13 8 3 6 102 87 187 152 18 13 43 33 56 45 13 11 42 33 64 49 23 17 41 33 41 38 0 4 6 8 14 8 8 0 16 3 18 8 2 4 77 66 168 137 149 116 205 161 250 198 17 14 103 81 150 117 85 64 215 172 213 177 -1 2 -19 18 -40 34 -21 16 -45 35 -53 42 -8 7 -49 39 -90 72 -41 33 -77 62 -80 65 -3 3 -72 59 -155 124 -82 66 -152 122 -155 126 -3 3 -19 16 -36 27 l-30 22 -110 -87z"/>
          </g>
          </svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-381568bf data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-99cf8a88 data-v-a97031cc><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a97031cc><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a97031cc><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a97031cc>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a97031cc data-v-687955bc><button data-v-687955bc>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-99cf8a88 data-v-54885d6c><div class="curtain" data-v-54885d6c></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-54885d6c><span class="visually-hidden" id="sidebar-aria-label" data-v-54885d6c> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible has-active" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>网络基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/network/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>HTTP 基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/network/http-cache.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>HTTP 缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/network/web-construction.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Web 结构组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/network/web-safety.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Web 安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/network/web-nginx.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Nginx 配置</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-99cf8a88 data-v-97b5189c><div class="VPDoc has-sidebar has-aside" data-v-97b5189c data-v-e9631fd0><!--[--><!--]--><div class="container" data-v-e9631fd0><div class="aside" data-v-e9631fd0><div class="aside-curtain" data-v-e9631fd0></div><div class="aside-container" data-v-e9631fd0><div class="aside-content" data-v-e9631fd0><div class="VPDocAside" data-v-e9631fd0 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-b0ff2abe><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e9631fd0><div class="content-container" data-v-e9631fd0><!--[--><!--]--><!----><main class="main" data-v-e9631fd0><div style="position:relative;" class="vp-doc _network_web-nginx" data-v-e9631fd0><div><h1 id="nginx" tabindex="-1">Nginx <a class="header-anchor" href="#nginx" aria-label="Permalink to &quot;Nginx&quot;">​</a></h1><h2 id="负载均衡" tabindex="-1">负载均衡 <a class="header-anchor" href="#负载均衡" aria-label="Permalink to &quot;负载均衡&quot;">​</a></h2><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">upstream</span><span style="color:#F8F8F2;"> nginx_boot{</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#88846F;"># 30s内检查心跳发送两次包，未回复就代表该机器宕机，请求分发权重比为1:2</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;">server</span><span style="color:#F8F8F2;"> 192.168.0.000:8080 </span><span style="color:#FD971F;font-style:italic;">weight</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;"> max_fails=2 </span><span style="color:#FD971F;font-style:italic;">fail_timeout</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">30s</span><span style="color:#F8F8F2;">; </span></span>
<span class="line"><span style="color:#F8F8F2;">   server 192.168.0.000:8090 </span><span style="color:#FD971F;font-style:italic;">weight</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;"> max_fails=2 </span><span style="color:#FD971F;font-style:italic;">fail_timeout</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">30s</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#88846F;"># 这里的IP请配置成你WEB服务所在的机器IP</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">server {</span></span>
<span class="line"><span style="color:#F8F8F2;">    location / {</span></span>
<span class="line"><span style="color:#F8F8F2;">        root   html;</span></span>
<span class="line"><span style="color:#F8F8F2;">       </span><span style="color:#F92672;"> index </span><span style="color:#F8F8F2;"> index.html index.htm</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;"># 允许重新定义或者添加发往后端服务器的请求头IP</span></span>
<span class="line"><span style="color:#F8F8F2;">        proxy_set_header Host $host;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;"># 它代表客户端，也就是HTTP的请求端真实的IP</span></span>
<span class="line"><span style="color:#F8F8F2;">       </span><span style="color:#F92672;"> proxy_set_header </span><span style="color:#F8F8F2;">X-Real-IP $remote_addr;</span></span>
<span class="line"><span style="color:#F8F8F2;">       </span><span style="color:#F92672;"> proxy_set_header </span><span style="color:#F8F8F2;">X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;"># 请求交给名为nginx_boot的upstream上</span></span>
<span class="line"><span style="color:#F8F8F2;">       </span><span style="color:#F92672;"> proxy_pass </span><span style="color:#F8F8F2;">http://nginx_boot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="动静分离" tabindex="-1">动静分离 <a class="header-anchor" href="#动静分离" aria-label="Permalink to &quot;动静分离&quot;">​</a></h2><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;"># ~代表匹配时区分大小写</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">location</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">~</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">.*\.(html|htm|gif|jpg|jpeg|bmp|png|ico|txt|js|css)</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> add_header </span><span style="color:#F8F8F2;"> Cache-Control  max-age=3600;</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> expires </span><span style="color:#F8F8F2;">7d;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 指向文件服务器目录</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> root </span><span style="color:#F8F8F2;">  /nginx/static_resources;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="压缩" tabindex="-1">压缩 <a class="header-anchor" href="#压缩" aria-label="Permalink to &quot;压缩&quot;">​</a></h2><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">http{</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 开启压缩机制</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip </span><span style="color:#F8F8F2;">on;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 指定会被压缩的文件类型(也可自己配置其他类型)</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_types </span><span style="color:#F8F8F2;">text/plain application/javascript text/css application/xml text/javascript image/jpeg image/gif image/png;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置压缩级别，越高资源消耗越大，但压缩效果越好</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_comp_level </span><span style="color:#F8F8F2;">5;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 在头部中添加Vary: Accept-Encoding（建议开启）</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_vary </span><span style="color:#F8F8F2;">on;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 处理压缩请求的缓冲区数量和大小</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_buffers </span><span style="color:#F8F8F2;">16 </span><span style="color:#AE81FF;">8k</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 对于不支持压缩功能的客户端请求不开启压缩机制</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_disable </span><span style="color:#E6DB74;">&quot;MSIE [1-6]\.&quot;</span><span style="color:#F8F8F2;">; </span><span style="color:#88846F;"># 低版本的IE浏览器不支持压缩</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置压缩响应所支持的HTTP最低版本</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_http_version </span><span style="color:#F8F8F2;">1.1;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置触发压缩的最小阈值</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_min_length </span><span style="color:#F8F8F2;">2k;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 关闭对后端服务器的响应结果进行压缩</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_proxied </span><span style="color:#F8F8F2;">off;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 优先返回.gz静态文件</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> gzip_static </span><span style="color:#F8F8F2;">on;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="缓冲区" tabindex="-1">缓冲区 <a class="header-anchor" href="#缓冲区" aria-label="Permalink to &quot;缓冲区&quot;">​</a></h2><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">http{</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置与后端服务器建立连接时的超时时间</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_connect_timeout </span><span style="color:#F8F8F2;">10;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置从后端服务器读取响应数据的超时时间</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_read_timeout </span><span style="color:#F8F8F2;">120;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置向后端服务器传输请求数据的超时时间</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_send_timeout </span><span style="color:#F8F8F2;">10;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 是否启用缓冲机制</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_buffering </span><span style="color:#F8F8F2;">on;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置缓冲客户端请求数据的内存大小</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> client_body_buffer_size </span><span style="color:#F8F8F2;">512k;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 为每个请求/连接设置缓冲区的数量和大小，默认4 4k/8k</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_buffers </span><span style="color:#F8F8F2;">4 </span><span style="color:#AE81FF;">64k</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置用于存储响应头的缓冲区大小</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_buffer_size </span><span style="color:#F8F8F2;">16k;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 在后端数据没有完全接收完成时，Nginx可以将busy状态的缓冲返回给客户端，该参数用来设置busy状态的buffer具体有多大，默认为 proxy_buffer_size * 2</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_busy_buffers_size </span><span style="color:#F8F8F2;">128k;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置每次写数据到临时文件的大小限制</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_temp_file_write_size </span><span style="color:#F8F8F2;">128k;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 当内存缓冲区存满时，可以将数据临时存放到磁盘，该参数是设置存储缓冲数据的目录</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_temp_path </span><span style="color:#F8F8F2;">/nginx/temp_buffer;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="缓存" tabindex="-1">缓存 <a class="header-anchor" href="#缓存" aria-label="Permalink to &quot;缓存&quot;">​</a></h2><table><thead><tr><th style="text-align:left;">配置参数项</th><th style="text-align:left;">配置释义</th><th style="text-align:center;">语法/参数值</th></tr></thead><tbody><tr><td style="text-align:left;">proxy_cache_path</td><td style="text-align:left;"><li>path：缓存的路径地址。</li><li>levels：缓存存储的层次结构，最多允许三层目录。</li><li>use_temp_path：是否使用临时目录。</li><li>keys_zone：指定一个共享内存空间来存储热点Key(1M可存储8000个Key)。</li><li>inactive：设置缓存多长时间未被访问后删除（默认是十分钟）。</li><li>max_size：允许缓存的最大存储空间，超出后会基于LRU算法移除缓存，Nginx会创建一个Cache manager的进程移除数据，也可以通过purge方式。</li><li>manager_files：manager进程每次移除缓存文件数量的上限。</li><li>manager_sleep：manager进程每次移除缓存文件的时间上限。</li><li>manager_threshold：manager进程每次移除缓存后的间隔时间。</li><li>loader_files：重启Nginx载入缓存时，每次加载的个数，默认100。</li><li>loader_sleep：每次载入时，允许的最大时间上限，默认200ms。</li><li>loader_threshold：一次载入后，停顿的时间间隔，默认50ms。</li><li>purger：是否开启purge方式移除数据。</li><li>purger_files：每次移除缓存文件时的数量。</li><li>purger_sleep：每次移除时，允许消耗的最大时间。</li><li>purger_threshold：每次移除完成后，停顿的间隔时间。</li></td><td style="text-align:center;">proxy_cache_path <ol>path</ol> <ol>[levels=levels]</ol> <ol>[use_temp_path=on&amp;off]</ol> <ol>[keys_zone=name:size]</ol> <ol>[inactive=time]</ol> <ol>[max_size=size]</ol> <ol>[manager_files=number]</ol> <ol>[manager_sleep=time]</ol> <ol>[manager_threshold=time]</ol> <ol>[loader_files=number]</ol> <ol>[loader_sleep=time]</ol> <ol>[loader_threshold=time]</ol> <ol>[purger=on&amp;off]</ol> <ol>[purger_files=number]</ol> <ol>[purger_sleep=time]</ol> <ol>[purger_threshold=time]</ol></td></tr><tr><td style="text-align:left;">proxy_cache</td><td style="text-align:left;">开启或关闭代理缓存，开启时需要指定一个共享内存区域</td><td style="text-align:center;"><ol>proxy_cache zone &amp; off</ol> <ol>zone为内存区域的名称，即上面中keys_zone设置的名称</ol></td></tr><tr><td style="text-align:left;">proxy_cache_key</td><td style="text-align:left;">定义如何生成缓存的键</td><td style="text-align:center;"><ol>proxy_cache_key $scheme$proxy_host$request_uri</ol></td></tr><tr><td style="text-align:left;">proxy_cache_valid</td><td style="text-align:left;">缓存生效的状态码与过期时间</td><td style="text-align:center;"><ol>proxy_cache_valid 200 302 30m</ol> <ol>code为状态码，time为有效时间，可以根据状态码设置不同的缓存时间</ol></td></tr><tr><td style="text-align:left;">proxy_cache_min_uses</td><td style="text-align:left;">设置资源被请求多少次后被缓存</td><td style="text-align:center;"><ol>proxy_cache_key $scheme$proxy_host$request_uri</ol></td></tr><tr><td style="text-align:left;">proxy_cache_use_stale</td><td style="text-align:left;">当后端出现异常时，是否允许Nginx返回缓存作为响应</td><td style="text-align:center;"><ol>proxy_cache_use_stale error</ol> <ol>error为错误类型，可配置timeout &amp; invalid_header &amp; updating &amp; http_500</ol></td></tr><tr><td style="text-align:left;">proxy_cache_lock</td><td style="text-align:left;">对于相同的请求，是否开启锁机制，只允许一个请求发往后端</td><td style="text-align:center;"><ol>proxy_cache_lock on &amp; off</ol></td></tr><tr><td style="text-align:left;">proxy_cache_lock_timeout</td><td style="text-align:left;">配置锁超时机制，超出规定时间后会释放请求</td><td style="text-align:center;"><ol>proxy_cache_lock_timeout time</ol></td></tr><tr><td style="text-align:left;">proxy_cache_methods</td><td style="text-align:left;">设置对于那些HTTP方法开启缓存</td><td style="text-align:center;"><ol>proxy_cache_methods GET</ol> <ol>method为请求方法类型，如GET、HEAD等</ol></td></tr><tr><td style="text-align:left;">proxy_no_cache</td><td style="text-align:left;">定义不存储缓存的条件，符合时不会保存</td><td style="text-align:center;"><ol>proxy_no_cache string</ol> <ol>string为条件，例如$cookie_nocache $arg_nocache $arg_comment</ol></td></tr><tr><td style="text-align:left;">proxy_cache_bypass</td><td style="text-align:left;">定义不读取缓存的条件，符合时不会从缓存中读取</td><td style="text-align:center;"><ol>proxy_cache_bypass string</ol> <ol>string为条件，例如$cookie_nocache $arg_nocache $arg_comment</ol></td></tr><tr><td style="text-align:left;">add_header</td><td style="text-align:left;">往响应头中添加字段信息</td><td style="text-align:center;"><ol>add_header fieldName fieldValue</ol> <ol>$upstream_cache_status：记录了缓存是否命中的信息，存在多种情况</ol><li>MISS：请求未命中缓存</li><li>HIT：请求命中缓存</li><li>EXPIRED：请求命中缓存但缓存已过期</li><li>STALE：请求命中了陈旧缓存</li><li>REVALIDDATED：Nginx验证陈旧缓存依然有效</li><li>UPDATING：命中的缓存内容陈旧，但正在更新缓存</li><li>BYPASS：响应结果是从原始服务器获取的</li></td></tr></tbody></table><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">http{</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 设置缓存的目录，并且内存中缓存区名为hot_cache，大小为128m，</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 三天未被访问过的缓存自动清楚，磁盘中缓存的最大容量为2GB。</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> proxy_cache_path </span><span style="color:#F8F8F2;">/nginx/cache levels=1:2 keys_zone=hot_cache:128m inactive=3d max_size=2g;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F8F8F2;">    server{</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#66D9EF;font-style:italic;">location</span><span style="color:#F8F8F2;"> / {</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 使用名为nginx_cache的缓存空间</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> proxy_cache </span><span style="color:#F8F8F2;">hot_cache;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 对于200、206、304、301、302状态码的数据缓存1天</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> proxy_cache_valid </span><span style="color:#F8F8F2;">200 </span><span style="color:#AE81FF;">206</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">304</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">301</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">302</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">1d</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 对于其他状态的数据缓存30分钟</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> proxy_cache_valid </span><span style="color:#F8F8F2;">any </span><span style="color:#AE81FF;">30m</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 定义生成缓存键的规则（请求的url+参数作为key）</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> proxy_cache_key </span><span style="color:#F8F8F2;">$host$uri$is_args$args;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 资源至少被重复访问三次后再加入缓存</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> proxy_cache_min_uses </span><span style="color:#F8F8F2;">3;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 出现重复请求时，只让一个去后端读数据，其他的从缓存中读取</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> proxy_cache_lock </span><span style="color:#F8F8F2;">on;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 上面的锁超时时间为3s，超过3s未获取数据，其他请求直接去后端</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> proxy_cache_lock_timeout </span><span style="color:#F8F8F2;">3s;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 对于请求参数或cookie中声明了不缓存的数据，不再加入缓存</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> proxy_no_cache </span><span style="color:#F8F8F2;">$cookie_nocache $arg_nocache $arg_comment;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 在响应头中添加一个缓存是否命中的状态（便于调试）</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> add_header </span><span style="color:#F8F8F2;">Cache-status $upstream_cache_status;</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="ip黑白名单" tabindex="-1">IP黑白名单 <a class="header-anchor" href="#ip黑白名单" aria-label="Permalink to &quot;IP黑白名单&quot;">​</a></h2><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">http{</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 屏蔽该文件中的所有IP</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> include </span><span style="color:#F8F8F2;">/nginx/IP/BlocksIP.conf; </span></span>
<span class="line"><span style="color:#F8F8F2;">    server{</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#66D9EF;font-style:italic;">location</span><span style="color:#F8F8F2;"> xxx {</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;"># 某一系列接口只开放给白名单中的IP</span></span>
<span class="line"><span style="color:#F8F8F2;">           </span><span style="color:#F92672;"> include </span><span style="color:#F8F8F2;">/nginx/IP/WhiteIP.conf; </span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># --------黑名单: BlocksIP.conf---------</span></span>
<span class="line"><span style="color:#F92672;">deny </span><span style="color:#F8F8F2;">192.177.12.222; </span><span style="color:#88846F;"># 屏蔽192.177.12.222访问</span></span>
<span class="line"><span style="color:#F92672;">deny </span><span style="color:#F8F8F2;">192.177.44.201; </span><span style="color:#88846F;"># 屏蔽192.177.44.201访问</span></span>
<span class="line"><span style="color:#F92672;">deny </span><span style="color:#F8F8F2;">127.0.0.0/8; </span><span style="color:#88846F;"># 屏蔽127.0.0.1到127.255.255.254网段中的所有IP访问</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># --------白名单: WhiteIP.conf---------</span></span>
<span class="line"><span style="color:#F92672;">allow </span><span style="color:#F8F8F2;">192.177.12.222; </span><span style="color:#88846F;"># 允许192.177.12.222访问</span></span>
<span class="line"><span style="color:#F92672;">allow </span><span style="color:#F8F8F2;">192.177.44.201; </span><span style="color:#88846F;"># 允许192.177.44.201访问</span></span>
<span class="line"><span style="color:#F92672;">allow </span><span style="color:#F8F8F2;">127.45.0.0/16; </span><span style="color:#88846F;"># 允许127.45.0.1到127.45.255.254网段中的所有IP访问</span></span>
<span class="line"><span style="color:#F92672;">deny </span><span style="color:#F8F8F2;">all; </span><span style="color:#88846F;"># 除开上述IP外，其他IP全部禁止访问</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="跨域" tabindex="-1">跨域 <a class="header-anchor" href="#跨域" aria-label="Permalink to &quot;跨域&quot;">​</a></h2><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;"># 协议+域名+端口 同源策略</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">location</span><span style="color:#F8F8F2;"> / {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 允许跨域的请求，可以自定义变量$http_origin，*表示所有</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> add_header </span><span style="color:#E6DB74;">&#39;Access-Control-Allow-Origin&#39;</span><span style="color:#F8F8F2;"> *;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 允许携带cookie请求</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> add_header </span><span style="color:#E6DB74;">&#39;Access-Control-Allow-Credentials&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;true&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 允许跨域请求的方法：GET,POST,OPTIONS,PUT</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> add_header </span><span style="color:#E6DB74;">&#39;Access-Control-Allow-Methods&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;GET,POST,OPTIONS,PUT&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 允许请求时携带的头部信息，*表示所有</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> add_header </span><span style="color:#E6DB74;">&#39;Access-Control-Allow-Headers&#39;</span><span style="color:#F8F8F2;"> *;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 允许发送按段获取资源的请求</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> add_header </span><span style="color:#E6DB74;">&#39;Access-Control-Expose-Headers&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;Content-Length,Content-Range&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 一定要有！！！否则Post请求无法进行跨域！</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 在发送Post跨域请求前，会以Options方式发送预检请求，服务器接受时才会正式请求</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> ($request_method </span><span style="color:#F92672;">= </span><span style="color:#E6DB74;">&#39;OPTIONS&#39;</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">       </span><span style="color:#F92672;"> add_header </span><span style="color:#E6DB74;">&#39;Access-Control-Max-Age&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">1728000</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">       </span><span style="color:#F92672;"> add_header </span><span style="color:#E6DB74;">&#39;Content-Type&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;text/plain; charset=utf-8&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">       </span><span style="color:#F92672;"> add_header </span><span style="color:#E6DB74;">&#39;Content-Length&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;"># 对于Options方式的请求返回204，表示接受跨域请求</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">204</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="防盗链设计" tabindex="-1">防盗链设计 <a class="header-anchor" href="#防盗链设计" aria-label="Permalink to &quot;防盗链设计&quot;">​</a></h2><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;"># 在动静分离的location中开启防盗链机制</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">location</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">~</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">.*\.(html|htm|gif|jpg|jpeg|bmp|png|ico|txt|js|css)</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 最后面的值在上线前可配置为允许的域名地址</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> valid_referers </span><span style="color:#F8F8F2;">blocked </span><span style="color:#AE81FF;">192.168.12.129</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> ($invalid_referer) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;"># 可以配置成返回一张禁止盗取的图片</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;"># rewrite   ^/ http://xx.xx.com/NO.jpg;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;"># 也可直接返回403</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;">   </span><span style="color:#AE81FF;">403</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> root </span><span style="color:#F8F8F2;">  /nginx/static_resources;</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> expires </span><span style="color:#F8F8F2;">7d;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="文件传输配置" tabindex="-1">文件传输配置 <a class="header-anchor" href="#文件传输配置" aria-label="Permalink to &quot;文件传输配置&quot;">​</a></h2><table><thead><tr><th style="text-align:left;">配置参数项</th><th style="text-align:left;">配置释义</th></tr></thead><tbody><tr><td style="text-align:left;">client_max_body_size</td><td style="text-align:left;">设置请求体允许的最大体积</td></tr><tr><td style="text-align:left;">client_header_timeout</td><td style="text-align:left;">等待客户端发送一个请求头的超时时间</td></tr><tr><td style="text-align:left;">client_body_timeout</td><td style="text-align:left;">设置读取请求体的超时时间</td></tr><tr><td style="text-align:left;">proxy_read_timeout</td><td style="text-align:left;">设置请求被后端服务器读取时，Nginx等待的最长时间</td></tr><tr><td style="text-align:left;">proxy_send_timeout</td><td style="text-align:left;">设置后端向Nginx返回响应时的超时时间</td></tr></tbody></table><h2 id="性能优化" tabindex="-1">性能优化 <a class="header-anchor" href="#性能优化" aria-label="Permalink to &quot;性能优化&quot;">​</a></h2><ul><li>打开长连接配置</li></ul><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">upstream</span><span style="color:#F8F8F2;"> xxx {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 长连接数</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> keepalive </span><span style="color:#F8F8F2;">32;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 每个长连接提供的最大请求数</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">keepalived_requests</span><span style="color:#F8F8F2;"> 100;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 每个长连接没有新的请求时，保持的最长时间</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> keepalive_timeout </span><span style="color:#F8F8F2;">60s;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>开启零拷贝技术</li></ul><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">sendfile </span><span style="color:#F8F8F2;">on; </span><span style="color:#88846F;"># 开启零拷贝机制</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>开启无延迟或多包共发机制</li></ul><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">tcp_nodelay </span><span style="color:#F8F8F2;">on;</span></span>
<span class="line"><span style="color:#F92672;">tcp_nopush </span><span style="color:#F8F8F2;">on;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>调整Worker工作进程</li></ul><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;"># 自动根据CPU核心数调整Worker进程数量</span></span>
<span class="line"><span style="color:#F92672;">worker_processes </span><span style="color:#F8F8F2;">auto;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 每个Worker能打开的文件描述符，最少调整至1W以上，负荷较高建议2-3W</span></span>
<span class="line"><span style="color:#F92672;">worker_rlimit_nofile </span><span style="color:#F8F8F2;">20000;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>开启CPU亲和机制</li></ul><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F92672;">worker_cpu_affinity </span><span style="color:#F8F8F2;">auto;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>开启epoll模型及调整并发连接数</li></ul><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki monokai"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">events</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 使用epoll网络模型</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> use </span><span style="color:#F8F8F2;">epoll;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;"># 调整每个Worker能够处理的连接数上限</span></span>
<span class="line"><span style="color:#F8F8F2;">   </span><span style="color:#F92672;"> worker_connections </span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">10240</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-e9631fd0 data-v-face870a><!--[--><!--]--><div class="edit-info" data-v-face870a><div class="edit-link" data-v-face870a><a class="VPLink link edit-link-button" href="https://github.com/tera-li/docs/blob/main/docs/network/web-nginx.md" target="_blank" rel="noreferrer" data-v-face870a><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-face870a><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-face870a><p class="VPLastUpdated" data-v-face870a data-v-149a99df>最近更新时间 : <time datetime="2023-08-07T08:29:27.000Z" data-v-149a99df></time></p></div></div><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/network/web-safety.html" data-v-face870a><span class="desc" data-v-face870a>Previous page</span><span class="title" data-v-face870a>Web 安全</span></a></div><div class="has-prev pager" data-v-face870a><!----></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-99cf8a88 data-v-f4388a15><div class="container" data-v-f4388a15><p class="message" data-v-f4388a15>Released under the MIT License.</p><p class="copyright" data-v-f4388a15>Copyright © 2022-present Terali</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"build_build-performance.md\":\"55b04d04\",\"build_front-end-engineering.md\":\"3f3c08f9\",\"build_http-performance.md\":\"caf1a06f\",\"other_front-end-basic.md\":\"4885a7e4\",\"build_index.md\":\"951619bd\",\"build_tool.md\":\"d705c16d\",\"build_vite.md\":\"b67809ab\",\"css_index.md\":\"d19c3c50\",\"frontend_react_index.md\":\"1ace634e\",\"frontend_react_react-hook.md\":\"08f96507\",\"frontend_vue_pinia.md\":\"6462a598\",\"javascript_js-webcomponent.md\":\"2ef91b92\",\"frontend_vue_index.md\":\"301495e8\",\"frontend_vue_vue2-reactive.md\":\"71704357\",\"index.md\":\"5794697d\",\"html_index.md\":\"86718ff9\",\"frontend_vue_vue3.md\":\"ce2fbcfc\",\"javascript_js-datatype.md\":\"4b1f576a\",\"javascript_js-design.md\":\"9d6bf6df\",\"javascript_js-window.md\":\"b9613892\",\"network_index.md\":\"c2307546\",\"network_web-construction.md\":\"08cfbcc2\",\"javascript_js-feat.md\":\"93d986fe\",\"network_web-nginx.md\":\"d881c31e\",\"network_web-safety.md\":\"71c054fa\",\"other_back-end-basic.md\":\"6f49616a\",\"other_my.md\":\"3d9c2bbb\",\"other_node-basic.md\":\"e187fb56\",\"other_node-basic-module.md\":\"b2ce901b\",\"other_index.md\":\"8a5be03b\",\"other_node-async.md\":\"10bcd44a\",\"other_node-buffer.md\":\"beb21a5e\",\"other_node-engineering.md\":\"a896bff8\",\"other_node-v8.md\":\"8d4d346e\",\"other_ts-declare.md\":\"13fcbee2\",\"other_node-progress.md\":\"809c6336\",\"algorithm_index.md\":\"eff1106a\",\"other_ts-inlay-type.md\":\"0ba6c6f5\",\"javascript_index.md\":\"a08a9f28\",\"javascript_js-engine.md\":\"d0a9e59d\",\"build_npm.md\":\"6d06b3a2\",\"network_http-cache.md\":\"628ec798\",\"algorithm_structure.md\":\"d77b5a06\",\"javascript_js-datacommunication.md\":\"4b6eac7c\",\"javascript_js-proto.md\":\"43afc726\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Web Front End\",\"titleTemplate\":false,\"description\":\"terali's Docs，terali的博客，surprise，前端，前端技术博客，囊括前端基础、进阶、日常记录、笔记\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"https://cdn.jsdelivr.net/gh/tera-li/static-cdn@0.0.4/img/my.jpg\",\"nav\":[{\"text\":\"基础\",\"link\":\"/html/\"},{\"text\":\"框架\",\"link\":\"/frontend/vue/\"},{\"text\":\"构建\",\"link\":\"/build/\"},{\"text\":\"网络\",\"link\":\"/network/\"},{\"text\":\"算法\",\"link\":\"/algorithm/\"},{\"text\":\"其它\",\"link\":\"/other/\"}],\"sidebar\":{\"/\":[{\"text\":\"HTML\",\"link\":\"/html/\"},{\"text\":\"CSS\",\"link\":\"/css/\"},{\"text\":\"JavaScript\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"JavaScript 基础\",\"link\":\"/javascript/\"},{\"text\":\"JavaScript 新特性\",\"link\":\"/javascript/js-feat\"},{\"text\":\"JavaScript 窗口\",\"link\":\"/javascript/js-window\"},{\"text\":\"JavaScript 引擎\",\"link\":\"/javascript/js-engine\"},{\"text\":\"JavaScript 原型\",\"link\":\"/javascript/js-proto\"},{\"text\":\"JavaScript 通信\",\"link\":\"/javascript/js-dataCommunication\"},{\"text\":\"JavaScript 数据类型\",\"link\":\"/javascript/js-dataType\"},{\"text\":\"JavaScript Web组件\",\"link\":\"/javascript/js-webComponent\"},{\"text\":\"JavaScript 设计模式\",\"link\":\"/javascript/js-design\"}]}],\"/frontend/\":[{\"text\":\"Vue\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Vue2 和 Vue3\",\"link\":\"/frontend/vue/\"},{\"text\":\"Vue2 响应式\",\"link\":\"/frontend/vue/vue2-reactive\"},{\"text\":\"Vue3\",\"link\":\"/frontend/vue/vue3\"},{\"text\":\"Pinia\",\"link\":\"/frontend/vue/Pinia\"}]},{\"text\":\"React\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"React 基础\",\"link\":\"/frontend/react/\"},{\"text\":\"React Hook\",\"link\":\"/frontend/react/react-hook\"}]}],\"/build/\":[{\"text\":\"打包部署\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Webpack\",\"link\":\"/build/\"},{\"text\":\"Vite\",\"link\":\"/build/vite\"},{\"text\":\"Npm\",\"link\":\"/build/npm\"},{\"text\":\"Tool\",\"link\":\"/build/tool\"},{\"text\":\"前端工程化\",\"link\":\"/build/front-end-engineering\"}]},{\"text\":\"性能优化\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Http\",\"link\":\"/build/http-performance\"},{\"text\":\"Build\",\"link\":\"/build/build-performance\"}]}],\"/algorithm/\":[{\"text\":\"算法\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"认识算法\",\"link\":\"/algorithm/\"},{\"text\":\"数据结构\",\"link\":\"/algorithm/structure\"}]}],\"/network/\":[{\"text\":\"网络基础\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"HTTP 基础\",\"link\":\"/network/\"},{\"text\":\"HTTP 缓存\",\"link\":\"/network/http-cache\"},{\"text\":\"Web 结构组件\",\"link\":\"/network/web-construction\"},{\"text\":\"Web 安全\",\"link\":\"/network/web-safety\"},{\"text\":\"Nginx 配置\",\"link\":\"/network/web-nginx\"}]}],\"/other/\":[{\"text\":\"TypeScript\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"TS 基础\",\"link\":\"/other/\"},{\"text\":\"TS 内置类型\",\"link\":\"/other/ts-inlay-type\"},{\"text\":\"TS 类型语言\",\"link\":\"/other/ts-declare\"}]},{\"text\":\"Node\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Node 基础\",\"link\":\"/other/node-basic\"},{\"text\":\"Node 异步编程\",\"link\":\"/other/node-async\"},{\"text\":\"Node 基础模块\",\"link\":\"/other/node-basic-module\"},{\"text\":\"Node V8内存控制\",\"link\":\"/other/node-v8\"},{\"text\":\"Node 二进制\",\"link\":\"/other/node-buffer\"},{\"text\":\"Node 进程\",\"link\":\"/other/node-progress\"},{\"text\":\"Node 工程化\",\"link\":\"/other/node-engineering\"}]},{\"text\":\"Route\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"前端路线\",\"link\":\"/other/front-end-basic\"},{\"text\":\"后端路线\",\"link\":\"/other/back-end-basic\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/tera-li\"},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.0\\\" width=\\\"764.000000pt\\\" height=\\\"764.000000pt\\\" viewBox=\\\"0 0 764.000000 764.000000\\\" preserveAspectRatio=\\\"xMidYMid meet\\\">\\n          <g transform=\\\"translate(0.000000,764.000000) scale(0.100000,-0.100000)\\\" fill=\\\"#1171ee\\\" stroke=\\\"none\\\">\\n          <path d=\\\"M3710 6773 c-58 -46 -120 -96 -139 -111 -147 -117 -307 -247 -317 -256 -6 -6 -68 -55 -137 -110 -69 -54 -143 -113 -164 -132 -21 -19 -42 -34 -47 -34 -4 0 2 -11 15 -25 13 -13 29 -25 36 -25 6 0 13 -4 15 -9 2 -5 120 -102 263 -216 143 -114 278 -221 299 -238 56 -45 119 -96 131 -105 45 -33 113 -90 128 -104 21 -21 24 -22 41 -5 8 6 24 19 36 27 13 8 30 22 39 31 9 8 45 38 81 64 80 61 87 66 108 86 9 8 57 47 107 85 49 38 98 77 110 87 11 10 106 86 210 169 105 82 194 154 200 159 10 10 -22 43 -95 98 -19 14 -41 32 -48 39 -8 7 -30 25 -50 40 -21 15 -39 29 -42 33 -3 3 -122 99 -265 213 -143 113 -269 215 -280 224 -29 26 -108 88 -120 94 -5 3 -57 -32 -115 -79z\\\"/>\\n          <path d=\\\"M1984 5387 c-55 -45 -117 -95 -138 -112 -22 -16 -44 -34 -50 -40 -6 -5 -34 -28 -61 -50 -28 -22 -55 -44 -62 -50 -7 -5 -18 -14 -25 -20 -50 -39 -116 -91 -130 -104 -34 -31 -46 -40 -51 -35 -2 3 -7 -2 -10 -10 -4 -9 6 -25 26 -41 18 -14 38 -30 46 -37 7 -6 34 -27 60 -46 25 -19 48 -39 49 -44 2 -4 10 -8 17 -8 7 0 15 -4 17 -8 2 -4 37 -34 78 -67 41 -32 77 -62 80 -65 3 -3 21 -17 40 -30 19 -13 37 -27 40 -30 5 -7 227 -182 290 -230 18 -14 38 -30 44 -35 6 -6 31 -26 56 -45 25 -19 47 -38 48 -42 2 -5 8 -8 14 -8 6 0 16 -6 22 -13 6 -8 52 -45 101 -83 50 -38 92 -71 95 -74 3 -3 37 -30 75 -60 39 -30 75 -59 82 -65 15 -12 27 -21 83 -65 25 -19 50 -39 56 -45 6 -5 46 -37 89 -70 120 -93 337 -265 365 -289 14 -12 41 -32 60 -46 19 -14 44 -32 55 -42 19 -15 98 -79 120 -96 75 -58 101 -78 105 -82 21 -22 140 -110 149 -110 8 0 376 284 476 368 11 9 40 32 65 51 25 19 50 39 57 45 7 6 25 21 40 33 133 103 279 218 283 223 3 3 23 19 45 35 22 16 47 35 55 42 8 7 67 53 130 103 63 50 129 101 145 115 17 13 134 105 260 205 127 100 242 191 257 203 15 12 39 31 54 42 15 11 44 34 65 51 21 17 97 78 171 135 73 57 135 106 138 109 3 3 33 28 68 55 l63 48 -31 29 c-17 15 -35 28 -40 28 -4 0 -10 4 -12 8 -1 4 -37 35 -78 67 -41 33 -77 62 -80 65 -3 3 -84 68 -180 144 -96 77 -177 142 -180 145 -32 36 -38 35 -127 -35 -49 -37 -90 -71 -93 -74 -3 -3 -45 -37 -95 -75 -97 -75 -287 -226 -320 -253 -11 -10 -36 -28 -55 -42 -19 -13 -42 -32 -51 -42 -9 -10 -19 -18 -23 -18 -3 0 -16 -9 -28 -19 -34 -29 -198 -159 -538 -426 -168 -132 -307 -242 -310 -245 -3 -3 -33 -28 -68 -54 l-63 -48 -57 43 c-31 24 -61 48 -67 53 -5 6 -28 24 -50 40 -22 17 -42 32 -45 36 -3 3 -21 17 -42 32 -20 15 -42 33 -50 40 -7 7 -40 33 -73 57 -33 25 -62 47 -65 51 -3 3 -25 21 -50 40 -25 19 -52 41 -60 47 -8 7 -82 66 -165 131 -82 64 -159 125 -170 134 -11 9 -58 46 -105 83 -106 82 -139 108 -167 132 -12 10 -36 29 -54 43 -44 34 -152 118 -164 128 -5 4 -64 50 -130 102 -66 52 -122 97 -125 100 -10 10 -89 70 -92 69 -2 0 -48 -37 -104 -82z\\\"/>\\n          <path d=\\\"M6884 4222 c-60 -47 -186 -147 -280 -222 -94 -74 -186 -146 -204 -160 -78 -59 -185 -146 -188 -152 -2 -5 -8 -8 -12 -8 -5 0 -20 -10 -33 -22 -13 -13 -39 -34 -57 -48 -34 -25 -140 -109 -171 -135 -10 -7 -48 -37 -85 -66 -38 -29 -76 -60 -85 -68 -8 -9 -32 -27 -52 -41 -20 -14 -37 -28 -37 -32 0 -5 -6 -8 -14 -8 -8 0 -16 -3 -18 -8 -1 -4 -61 -54 -133 -110 -71 -57 -137 -108 -145 -115 -8 -7 -49 -38 -90 -70 -41 -32 -91 -71 -110 -87 -19 -16 -73 -59 -120 -95 -47 -36 -97 -77 -113 -90 -15 -14 -31 -25 -36 -25 -5 0 -11 -3 -13 -7 -2 -7 -59 -54 -133 -111 -64 -49 -183 -143 -195 -154 -9 -7 -67 -53 -130 -103 -63 -49 -116 -93 -118 -97 -2 -4 -8 -8 -13 -8 -5 0 -20 -9 -32 -21 -18 -17 -95 -78 -282 -224 -16 -13 -61 -48 -99 -78 l-68 -55 -82 65 c-114 92 -138 111 -256 203 -58 45 -107 85 -110 89 -3 3 -43 35 -90 71 -107 81 -98 74 -145 115 -22 19 -43 35 -47 35 -4 0 -13 6 -20 13 -7 7 -49 41 -93 76 -44 34 -93 73 -110 86 -16 14 -100 79 -185 146 -146 116 -303 239 -325 257 -5 4 -48 38 -95 75 -215 169 -557 441 -578 458 -12 10 -27 19 -32 19 -6 0 -10 3 -10 8 0 4 -33 32 -72 62 -40 30 -102 78 -138 108 -36 29 -168 134 -295 233 -126 99 -239 188 -250 197 -11 9 -63 50 -115 91 -52 41 -97 78 -98 83 -5 12 -42 9 -56 -4 -7 -7 -27 -24 -45 -38 -18 -14 -63 -50 -100 -80 -187 -153 -416 -335 -424 -339 -5 -2 -18 -12 -28 -22 -18 -18 -17 -20 41 -64 32 -25 65 -51 72 -58 7 -6 31 -25 53 -41 22 -17 42 -33 45 -36 3 -3 45 -37 95 -75 49 -39 97 -75 105 -82 42 -34 291 -231 316 -250 16 -12 40 -31 54 -42 14 -11 66 -52 115 -91 50 -39 99 -78 109 -87 11 -9 40 -32 65 -51 25 -19 67 -52 92 -73 26 -22 52 -39 58 -39 6 0 11 -4 11 -8 0 -4 21 -24 48 -44 26 -20 57 -45 69 -55 12 -10 34 -27 49 -38 15 -11 32 -24 38 -30 6 -5 29 -23 51 -39 22 -17 42 -33 45 -36 3 -3 46 -37 95 -75 50 -38 92 -72 95 -75 3 -3 23 -19 45 -35 22 -17 42 -32 45 -36 5 -5 178 -142 240 -189 18 -14 40 -32 50 -40 10 -8 32 -26 50 -40 18 -14 81 -63 140 -110 59 -47 119 -94 134 -105 16 -11 33 -25 40 -30 6 -6 65 -53 131 -105 66 -52 125 -99 131 -105 7 -5 24 -19 39 -30 37 -27 187 -146 203 -162 7 -7 16 -13 20 -13 4 0 25 -16 47 -35 22 -19 45 -38 50 -43 18 -13 99 -77 115 -89 73 -58 337 -267 380 -300 30 -23 69 -54 85 -67 17 -14 39 -32 50 -40 11 -8 34 -26 50 -40 32 -26 45 -24 85 13 23 20 35 29 91 72 24 19 89 70 144 114 138 109 394 311 429 338 15 12 33 27 40 32 6 6 40 33 76 60 36 27 70 54 76 60 7 5 26 21 44 35 29 23 74 58 140 110 14 11 57 44 95 75 39 30 85 67 104 82 18 16 41 32 50 37 9 5 18 12 21 16 4 6 140 115 260 208 19 15 68 54 110 87 41 33 116 92 165 130 50 38 92 72 95 75 3 3 57 46 120 95 63 49 123 96 132 104 9 9 23 21 30 26 12 9 118 90 156 120 7 5 21 17 31 25 9 8 35 28 56 45 54 40 62 47 90 73 13 12 28 22 34 22 5 0 11 3 13 8 3 6 102 87 187 152 18 13 43 33 56 45 13 11 42 33 64 49 23 17 41 33 41 38 0 4 6 8 14 8 8 0 16 3 18 8 2 4 77 66 168 137 149 116 205 161 250 198 17 14 103 81 150 117 85 64 215 172 213 177 -1 2 -19 18 -40 34 -21 16 -45 35 -53 42 -8 7 -49 39 -90 72 -41 33 -77 62 -80 65 -3 3 -72 59 -155 124 -82 66 -152 122 -155 126 -3 3 -19 16 -36 27 l-30 22 -110 -87z\\\"/>\\n          </g>\\n          </svg>\"},\"link\":\"https://juejin.cn/user/3395724659925656/posts?sort=popular\"}],\"editLink\":{\"pattern\":\"https://github.com/tera-li/docs/blob/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2022-present Terali\"},\"lastUpdatedText\":\"最近更新时间 \"},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>